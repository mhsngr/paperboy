{"version":3,"sources":["services/feeds.js","components/FeedItem.js","components/OptionsMenu.js","components/Feed.js","components/AddFeed.js","components/FeedList.js","components/ReadLaterItem.js","components/ReadLater.js","components/ScrollTop.js","components/AccountMenu.js","services/auth.js","components/Reader.js","components/SignIn.js","components/SignUp.js","App.js","reportWebVitals.js","index.js"],"names":["getFeed","id","query","axios","get","then","response","data","catch","err","getFeedItems","skip","limit","getIcon","link","url","URL","hostname","getAge","date","age","Date","now","Math","floor","starItem","put","starred","unstarItem","getStarred","markRead","unread","unmarkRead","markFeedRead","getUnread","useStyles","makeStyles","theme","feedItem","padding","spacing","feedItemHeading","paddingBottom","feedHeader","display","justifyContent","alignItems","itemTitle","overflow","whiteSpace","textOverflow","toolbar","highlight","color","backgroundColor","palette","primary","main","FeedItem","props","classes","useState","open","setOpen","handleClick","ListItem","dense","onClick","ListItemText","Tooltip","title","IconButton","size","handleMarkRead","item","_id","button","ListItemIcon","handleUnstarItem","fontSize","handleStarItem","className","Typography","highlightClassName","searchWords","searchQuery","autoEscape","textToHighlight","variant","isoDate","Collapse","in","timeout","unmountOnExit","Container","component","Link","href","target","rel","underline","author","creator","paragraph","feedTitle","toLocaleString","handleUnmarkRead","categories","length","join","ButtonGroup","Button","aria-label","content","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","fullWidth","Divider","OptionsMenu","React","anchorEl","setAnchorEl","handleDialogClose","event","currentTarget","getContentAnchorEl","keepMounted","anchorOrigin","vertical","horizontal","transformOrigin","Boolean","onClose","MenuItem","Dialog","DialogTitle","DialogContent","DialogContentText","feed","DialogActions","autoFocus","delete","updatedFeeds","setUserFeeds","setTitle","history","push","console","log","root","width","background","paper","feedDetails","paddingTop","maxWidth","feedToolbar","feedList","Feed","setFeed","starredItems","setStarredItems","unreadItems","setUnreadItems","loadedItems","setLoadedItems","hasMore","setHasMore","items","message","fetchedUnreadItems","handleRefresh","match","params","fetchedFeed","fetchedStarredItems","itemPerPage","feedItems","useEffect","Badge","badgeContent","overlap","max","description","category","List","dataLength","next","newLoadedItems","concat","loader","LinearProgress","scrollableTarget","map","includes","appBar","position","search","borderRadius","shape","fade","common","white","marginRight","marginLeft","breakpoints","up","searchIcon","height","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","menuButton","Transition","forwardRef","ref","Slide","direction","AddFeed","loading","setLoading","feeds","setFeeds","filteredFeeds","setFilteredFeeds","feedUrl","setFeedUrl","setMessage","searchRef","useRef","useHistory","handleClickOpen","allFeeds","handleClose","placement","edge","fullScreen","TransitionComponent","AppBar","Toolbar","InputBase","placeholder","input","inputProps","value","onChange","e","filtered","filter","toLowerCase","current","post","updateUserFeeds","Popover","Alert","severity","Avatar","src","alt","FeedList","userFeeds","NavLink","to","activeClassName","ListItemAvatar","itemHeader","itemInfo","itemFeed","textAlign","itemAge","ReadLater","bottom","right","ScrollTop","trigger","useScrollTrigger","contentRef","disableHysteresis","threshold","Zoom","anchor","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","children","handleMenuClose","user","username","setUser","zIndex","drawer","menuButtonHidden","flexGrow","drawerPaper","easing","sharp","duration","enteringScreen","drawerPaperClose","overflowX","leavingScreen","appBarSpacer","mixins","container","flexDirection","Reader","useThemeSwitcher","dark","toggleDark","setSearchQuery","fetchedFeeds","CssBaseline","noWrap","Drawer","clsx","exact","path","render","Fab","image","backgroundImage","backgroundRepeat","type","grey","backgroundSize","backgroundPosition","margin","avatar","secondary","form","marginTop","submit","SignIn","setUsername","password","setPassword","usernameError","setUsernameError","passwordError","setPasswordError","Grid","xs","sm","md","Paper","elevation","square","onSubmit","preventDefault","signin","noValidate","TextField","required","label","name","autoComplete","error","helperText","RouterLink","SignUp","confirm","setConfirm","confirmError","setConfirmError","signup","justify","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","lightTheme","createMuiTheme","darkTheme","ReactDOM","followSystem","persist","appId","getElementById"],"mappings":"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","file":"static/js/main.b301b661.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst addFeed = (url) => {\n  return axios.post('/api/feeds', { url })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst getFeed = (id, query = '') => {\n  return axios.get(`/api/feeds?id=${id}&q=${query}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getFeedItems = (id, query, skip, limit) => {\n  return axios.get(`/api/feeds?id=${id}&q=${query}&skip=${skip}&limit=${limit}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getUserFeeds = () => {\n  return axios.get('/api/feeds')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getAllFeeds = () => {\n  return axios.get('/api/feeds/all')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getIcon = (link) => {\n  const url = new URL(link);\n  return `https://logo.clearbit.com/${url.hostname}`\n}\n\nconst getAge = (date) => {\n  const age = Date.now() - new Date(date);\n  if (Math.floor(age / (1000 * 60 * 60 * 24 * 365 )) > 0) return `${Math.floor(age / (1000 * 60 * 60 * 24 * 365 ))}y`;\n  if (Math.floor(age / (1000 * 60 * 60 * 24 * 7 ))) return `${Math.floor(age / (1000 * 60 * 60 * 24 * 7 ))}w`;\n  if (Math.floor(age / (1000 * 60 * 60 * 24 ))) return `${Math.floor(age / (1000 * 60 * 60 * 24))}d`;\n  if (Math.floor(age / (1000 * 60 * 60 ))) return `${Math.floor(age / (1000 * 60 * 60))}h`;\n  if (Math.floor(age / (1000 * 60))) return `${Math.floor(age / (1000 * 60))}min`;\n  if (Math.floor(age / (1000))) return `${Math.floor(age / (1000))}s`;\n}\n\nconst starItem = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { starred: true })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst unstarItem = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { starred: false })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst getStarred = () => {\n  return axios.get('/api/feeds/starred')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst markRead = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { unread: false })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst unmarkRead = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { unread: true })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst markFeedRead = (id) => {\n  return axios.put(`/api/feeds?id=${id}&unread=${false}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst getUnread = (id) => {\n  return axios.get(`/api/feeds?id=${id}&unread=${true}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\n// const getAllRead = () => {\n//   return axios.get('/api/feeds/read')\n//     .then(response => {\n//       return response.data;\n//     })\n//     .catch(err => {\n//       return err;\n//     })\n// }\n\n// const getReadStarred = () => {\n//   return axios.get('/api/feeds/read-starred')\n//     .then(response => {\n//       return response.data;\n//     })\n//     .catch(err => {\n//       return err;\n//     })\n// }\n\n// const getReadLater = (id) => {\n//   return axios.get('/api/feeds/read-later')\n//     .then(response => {\n//       return response.data;\n//     })\n//     .catch(err => {\n//       return err;\n//     })\n// }\n\nconst unfollowFeed = (id) => {\n  return axios.delete(`/api/feeds?id=${id}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nexport { addFeed, getFeed, getFeedItems, getUserFeeds, getAllFeeds, getIcon, getAge, starItem, unstarItem, getStarred, markRead, unmarkRead, markFeedRead, getUnread, unfollowFeed };","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getAge } from '../services/feeds';\nimport Container from '@material-ui/core/Container';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport TurnedInIcon from '@material-ui/icons/TurnedIn';\nimport TurnedInNotIcon from '@material-ui/icons/TurnedInNot';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Link from '@material-ui/core/Link';\nimport DOMPurify from 'dompurify';\nimport DoneIcon from '@material-ui/icons/Done';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport Highlighter from \"react-highlight-words\";\n\nconst useStyles = makeStyles((theme) => ({\n  feedItem: {\n    padding: theme.spacing(0,9,3,9),\n  },\n  feedItemHeading: {\n    paddingBottom: theme.spacing(1),\n  },\n  feedHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  itemTitle: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  toolbar: {\n    paddingBottom: theme.spacing(2),\n  },\n  highlight: {\n    color: 'inherit',\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nexport default function FeedItem(props) {\n\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <>\n      {open ? (\n        <ListItem dense onClick={handleClick}>\n          <ListItemText />\n          {props.unread ?\n            <Tooltip title=\"Mark read\">\n              <IconButton size=\"small\" onClick={() => props.handleMarkRead(props.item._id)}>\n                <DoneIcon />\n              </IconButton>\n            </Tooltip>\n            :\n            <Tooltip title=\"Close\">\n              <IconButton size=\"small\">\n                <CloseIcon />\n              </IconButton>\n            </Tooltip>\n          }\n        </ListItem>\n      ) : (\n        <ListItem button dense>\n          <ListItemIcon>\n            <Tooltip title=\"Read later\">\n            {props.starred ?\n            (\n              <IconButton\n                size=\"small\"\n                onClick={() => props.handleUnstarItem(props.item._id)}\n              >\n                <TurnedInIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            ) :\n            (\n              <IconButton \n                size=\"small\"\n                onClick={() => props.handleStarItem(props.item._id)}\n              >\n                <TurnedInNotIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            )}\n            </Tooltip>\n          </ListItemIcon>\n          <ListItemText\n            onClick={handleClick}\n            primary={\n              <div className={classes.feedHeader}>\n                <Typography className={classes.itemTitle} color={props.unread ? 'textPrimary' : 'textSecondary' }>\n                  <Highlighter\n                    highlightClassName={classes.highlight}\n                    searchWords={[props.searchQuery]}\n                    autoEscape={true}\n                    textToHighlight={props.item.title}\n                  />\n                </Typography>\n                <Typography variant=\"caption\" color={props.unread ? 'textPrimary' : 'textSecondary' }>{getAge(props.item.isoDate)}</Typography>\n              </div>\n            }\n          />\n        </ListItem>\n      )}\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <Container component=\"div\" className={classes.feedItem}>\n          <Typography variant=\"h5\" color={props.unread ? 'textPrimary' : 'textSecondary' } className={classes.feedItemHeading}>\n            {props.unread ?\n            <Link\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              color=\"inherit\"\n              underline=\"none\"\n              onClick={() => props.handleMarkRead(props.item._id)}\n            >\n              <Highlighter\n                highlightClassName={classes.highlight}\n                searchWords={[props.searchQuery]}\n                autoEscape={true}\n                textToHighlight={props.item.title}\n              />\n            </Link>\n            :\n            <Link\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              color=\"inherit\"\n              underline=\"none\"\n            >\n              <Highlighter\n                highlightClassName={classes.highlight}\n                searchWords={[props.searchQuery]}\n                autoEscape={true}\n                textToHighlight={props.item.title}\n              />\n            </Link>\n            }\n          </Typography>\n          {props.item.author || props.item.creator ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>{props.feedTitle} by {props.item.author || props.item.creator}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{props.feedTitle}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>}\n          {props.item.categories.length > 0 ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {props.item.categories.join(', ')}</Typography>\n          ) : <></>}\n          <ButtonGroup className={classes.toolbar}>\n            <Tooltip title=\"Read later\">\n              {props.starred ?\n              (\n                <Button\n                  aria-label=\"read later\"\n                  onClick={() => props.handleUnstarItem(props.item._id)}\n                >\n                  <TurnedInIcon />\n                </Button>\n              ) :\n              (\n                <Button \n                  aria-label=\"read later\"\n                  onClick={() => props.handleStarItem(props.item._id)}\n                >\n                  <TurnedInNotIcon />\n                </Button>\n              )}\n            </Tooltip>\n            <Button><MoreHorizIcon /></Button>\n          </ButtonGroup>\n          {props.item['content:encoded'] || props.item.content ? \n          (\n            <Typography variant=\"body1\" paragraph dangerouslySetInnerHTML={{__html: DOMPurify.sanitize(props.item['content:encoded'] || props.item.content)}} />\n          ) : <></>}\n          {props.unread ?\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n              onClick={() => props.handleMarkRead(props.item._id)}\n            >\n              Visit Website\n            </Button>\n            :\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n            >\n              Visit Website\n            </Button>\n          }\n        </Container>\n      </Collapse>\n      <Divider />\n    </>\n  );\n}","import React from 'react';\nimport { unfollowFeed } from '../services/feeds';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\n\nexport default function OptionsMenu(props) {\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [open, setOpen] = React.useState(false);\n\n  const handleMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleDialogOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDialogClose = () => {\n    setOpen(false);\n    setAnchorEl(null);\n  };\n\n  const handleUnfollow = () => {\n    unfollowFeed(props.feed._id)\n      .then(updatedFeeds => {\n        handleDialogClose();\n        props.setUserFeeds(updatedFeeds);\n        props.setTitle('Paperboy');\n        props.history.push('/');\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  return (\n    <>\n      <Tooltip title=\"More options\">\n        <IconButton onClick={handleMenuOpen}>\n          <MoreHorizIcon/>\n        </IconButton>\n      </Tooltip>\n\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        keepMounted\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n        transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={Boolean(anchorEl)}\n        onClose={handleMenuClose}\n      >\n        <MenuItem dense onClick={handleDialogOpen}>\n          <ListItemIcon>\n            <DeleteIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>\n            Unfollow\n          </ListItemText>\n        </MenuItem>\n      </Menu>\n      <Dialog\n        open={open}\n        onClose={handleDialogClose}\n      >\n        <DialogTitle>Unfollow feed</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Do you really want to unfollow this feed?<br/>\n            {props.feed.title}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleDialogClose} color=\"primary\" autoFocus>\n            Dismiss\n          </Button>\n          <Button onClick={handleUnfollow} color=\"secondary\">\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { getFeed, getFeedItems, getStarred, starItem, unstarItem, markRead, unmarkRead, markFeedRead, getUnread } from '../services/feeds';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport FeedItem from './FeedItem';\nimport OptionsMenu from './OptionsMenu';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport Link from '@material-ui/core/Link';\nimport Divider from '@material-ui/core/Divider';\nimport Container from '@material-ui/core/Container';\nimport DoneIcon from '@material-ui/icons/Done';\nimport IconButton from '@material-ui/core/IconButton';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\nimport Badge from '@material-ui/core/Badge';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  feedDetails: {\n    paddingTop: theme.spacing(2),\n    maxWidth: '100%',\n  },\n  feedHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n  },\n  feedToolbar: {\n    display: 'flex',\n  },\n  feedList: {\n    padding: 0,\n  },\n}));\n\nexport default function Feed(props) {\n  \n  const classes = useStyles();\n\n  const [feed, setFeed] = useState(null);\n  const [starredItems, setStarredItems] = useState(null);\n  const [unreadItems, setUnreadItems] = useState(null);\n  const [loadedItems, setLoadedItems] = useState(null);\n  const [hasMore, setHasMore] = useState(true);\n\n  const loadMoreItems = () => {\n    getFeedItems(feed._id, props.searchQuery, loadedItems.length , props.itemPerPage)\n      .then(newLoadedItems => {\n        if (newLoadedItems.length === 0) setHasMore(false);\n        else setLoadedItems(loadedItems.concat(newLoadedItems));\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleStarItem = (id) => {\n    starItem(id)\n      .then(items => {\n        if (items.message) console.log(items.message);\n        else setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnstarItem = (id) => {\n    unstarItem(id)\n      .then(items => {\n        setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkRead = (id) => {\n    markRead(id)\n      .then(response => {\n        if (response.message) console.log(response.message);\n        else {\n          getUnread(feed._id)\n            .then(fetchedUnreadItems => {\n              setUnreadItems(fetchedUnreadItems);\n            })\n            .catch(err => {\n              console.log(err);\n            })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkFeedRead = () => {\n    markFeedRead(feed._id)\n      .then(response => {\n        setUnreadItems(response);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnmarkRead = (id) => {\n    unmarkRead(id)\n      .then(() => {\n        getUnread(feed._id)\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleRefresh = () => {\n    setLoadedItems(null);\n    setHasMore(true);\n    getFeed(props.match.params.id, props.searchQuery)\n      .then(fetchedFeed => {\n        setFeed(fetchedFeed);\n        props.setTitle(fetchedFeed.title)\n        getUnread(fetchedFeed._id)\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n            getStarred()\n              .then(fetchedStarredItems => {\n                setStarredItems(fetchedStarredItems);\n                getFeedItems(fetchedFeed._id, props.searchQuery, 0, props.itemPerPage)\n                  .then(feedItems => {\n                    setLoadedItems(feedItems);\n                  })\n                  .catch(err => {\n                    console.log(err);\n                  })\n              })\n              .catch(err => {\n                console.log(err);\n              })\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  useEffect(() => {\n    handleRefresh();\n  }, [props.match.params.id, props.searchQuery])\n\n  if (!loadedItems) return <LinearProgress />\n\n  return (\n    <div id=\"feed\" className={classes.root}>\n      <Container component=\"div\" className={classes.feedDetails}>\n        <div className={classes.feedHeader}>\n          <Typography variant=\"h4\">\n            <Link\n              href={feed.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              color=\"inherit\"\n              underline=\"none\"\n            >\n              {feed.title}\n            </Link>\n          </Typography>\n          <div className={classes.feedToolbar}>\n            {(unreadItems.length) === 0 ?\n              <Tooltip title=\"All Read\">\n                <IconButton>\n                  <DoneAllIcon/>\n                </IconButton>\n              </Tooltip>\n              :\n              <Tooltip title=\"Mark as Read\">\n                <Badge\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'left',\n                  }}\n                  badgeContent={unreadItems.length}\n                  color=\"primary\"\n                  overlap=\"circle\"\n                  max={999}\n                >\n                  <IconButton onClick={() => handleMarkFeedRead()}>\n                    <DoneIcon/>\n                  </IconButton>\n                </Badge>\n              </Tooltip>\n            }\n            <Tooltip title=\"Refresh\">\n              <IconButton onClick={() => handleRefresh()}>\n                <RefreshIcon/>\n              </IconButton>\n            </Tooltip>\n            <OptionsMenu feed={feed} history={props.history} setUserFeeds={props.setUserFeeds}{...props} />\n          </div>\n        </div>\n          {feed.description ? \n          (\n            <Typography variant=\"subtitle1\">{feed.description}</Typography>\n          ) : <></>}\n          {feed.category ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {feed.category.join(', ')}, {feed.feedItems} articles</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{feed.feedItems} articles</Typography>}\n      </Container>\n      <Divider />\n      <List className={classes.feedList}>\n        <InfiniteScroll\n          dataLength={loadedItems.length}\n          next={loadMoreItems}\n          hasMore={hasMore}\n          loader={<LinearProgress />}\n          scrollableTarget=\"content\"\n        >\n          {loadedItems.map(item => {\n            return (\n              <FeedItem\n                key={item._id}\n                feedTitle={feed.title}\n                item={item}\n                handleStarItem={handleStarItem}\n                handleUnstarItem={handleUnstarItem}\n                starred={starredItems.includes(item._id)}\n                handleMarkRead={handleMarkRead}\n                handleUnmarkRead={handleUnmarkRead}\n                unread={unreadItems.includes(item._id)}\n                {...props}\n              />\n            )\n          })}\n        </InfiniteScroll>\n      </List>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport { addFeed, getAllFeeds, getIcon } from '../services/feeds';\nimport Dialog from '@material-ui/core/Dialog';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport Avatar from '@material-ui/core/Avatar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddIcon from '@material-ui/icons/Add';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Popover from '@material-ui/core/Popover';\nimport Alert from '@material-ui/lab/Alert';\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: 'relative',\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: '100%',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    // [theme.breakpoints.up('md')]: {\n    //   width: '20ch',\n    // },\n  },\n  menuButton: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AddFeed(props) {\n\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [feeds, setFeeds] = useState(null);\n  const [filteredFeeds, setFilteredFeeds] = useState(null);\n  const [feedUrl, setFeedUrl] = useState('');\n  const [message, setMessage] = useState('');\n  const [anchorEl, setAnchorEl] = useState(null);\n  const searchRef = React.useRef();\n  let history = useHistory();\n\n  const handleClickOpen = () => {\n    setOpen(true);\n    setLoading(true);\n    setFeedUrl('');\n    getAllFeeds()\n      .then(allFeeds => {\n        setLoading(false);\n        setFeeds(allFeeds);\n        setFilteredFeeds(allFeeds);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setAnchorEl(null);\n    setMessage('');\n  };\n\n  const handleAddFeed = () => {\n    setAnchorEl(searchRef.current);\n    setLoading(true);\n    addFeed(feedUrl)\n      .then(response => {\n        setLoading(false);\n        if (response.message) {\n          setMessage(response.message);\n        }\n        else {\n          setMessage('');\n          setAnchorEl(null);\n          setOpen(false);\n          props.updateUserFeeds();\n          history.push(`/${response._id}`);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  const search = e => {\n    setFeedUrl(e.target.value);\n    const filtered = e.target.value ? feeds.filter(feed => feed.title.toLowerCase().includes(e.target.value.toLowerCase()) || feed.feedUrl.toLowerCase().includes(e.target.value.toLowerCase())) : feeds;\n    setFilteredFeeds(filtered);\n  }\n\n  if (!filteredFeeds) return (\n    <Tooltip title=\"Add new feed\" placement=\"right\">\n      <ListItem button onClick={handleClickOpen}>\n        <ListItemIcon className={classes.menuButton}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"add new feed\"\n          >\n            <AddIcon/>\n          </IconButton>\n        </ListItemIcon>\n        <ListItemText primary=\"Add new feed\" />\n      </ListItem>\n    </Tooltip>\n  )\n\n  return (\n    <div>\n      <Tooltip title=\"Add new feed\" placement=\"right\">\n        <ListItem button onClick={handleClickOpen}>\n          <ListItemIcon className={classes.menuButton}>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              aria-label=\"add new feed\"\n            >\n              <AddIcon/>\n            </IconButton>\n          </ListItemIcon>\n          <ListItemText primary=\"Add new feed\" />\n        </ListItem>\n      </Tooltip>\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n              <CloseIcon />\n            </IconButton>\n            <div className={classes.search} ref={searchRef}>\n              <div className={classes.searchIcon}>\n                <SearchIcon />\n              </div>\n              <InputBase\n                placeholder=\"Search or enter URL\"\n                classes={{\n                  root: classes.inputRoot,\n                  input: classes.inputInput,\n                }}\n                inputProps={{ 'aria-label': 'search' }}\n                value={feedUrl}\n                onChange={search}\n                fullWidth\n              />\n            </div>\n            <IconButton autoFocus color=\"inherit\" onClick={handleAddFeed}>\n              <AddIcon/>\n            </IconButton>\n            <Popover\n              id='error-popover'\n              open={!!message}\n              anchorEl={anchorEl}\n              onClose={() => setMessage('')}\n              anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n              }}\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'left',\n              }}\n            >\n              <Alert severity=\"error\">{message}</Alert>\n            </Popover>\n          </Toolbar>\n        </AppBar>\n        {loading ?\n          <LinearProgress />\n          :\n          <List>\n            {filteredFeeds.map(feed => {\n              return (\n                <ListItem button key={feed._id} onClick={() => setFeedUrl(feed.feedUrl)}>\n                  <ListItemIcon>\n                    <Avatar variant=\"rounded\" src={getIcon(feed.link)} alt={feed.title} />\n                  </ListItemIcon>\n                  <ListItemText primary={feed.title} />\n                </ListItem>\n              )\n            })}\n          </List>\n        }\n      </Dialog>\n    </div>\n  );\n}","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { getIcon } from '../services/feeds';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport Avatar from '@material-ui/core/Avatar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddFeed from './AddFeed';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport BookmarksIcon from '@material-ui/icons/Bookmarks';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  feedTitle: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n}));\n\nexport default function FeedList(props) {\n\n  const classes = useStyles();\n\n  // const [feeds, setFeeds] = useState([]);\n\n  // const updateUserFeeds = () => {\n  //   getUserFeeds()\n  //     .then(fetchedFeeds => {\n  //       props.setUserFeeds(fetchedFeeds);\n  //     })\n  //     .catch(err => {\n  //       console.log(err);\n  //     })\n  // }\n\n  // useEffect(() => {\n  //   updateUserFeeds()\n  // }, [])\n\n  if (!props.userFeeds) return <LinearProgress />\n\n  return (\n    <List>\n      <Tooltip title=\"Read later\" placement=\"right\">\n        <ListItem button component={NavLink} to={`/read-later`} activeClassName=\"Mui-selected\">\n          <ListItemIcon className={classes.menuButton}>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n            >\n              <BookmarksIcon/>\n            </IconButton>\n          </ListItemIcon>\n          <ListItemText primary=\"Read later\" />\n        </ListItem>\n      </Tooltip>\n      {props.userFeeds.map(feed => {\n        return (\n          <Tooltip title={feed.title} key={feed._id} placement=\"right\">\n            <ListItem button component={NavLink} to={`/${feed._id}`} activeClassName=\"Mui-selected\">\n              <ListItemAvatar>\n                <Avatar variant=\"rounded\" src={getIcon(feed.link)} alt={feed.title} />\n              </ListItemAvatar>\n              <ListItemText primary={feed.title} className={classes.feedTitle}/>\n            </ListItem>\n          </Tooltip>\n        )\n      })}\n      <AddFeed updateUserFeeds={() => props.updateUserFeeds()} setUserFeeds={props.setUserFeeds} />\n    </List>\n  )\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getAge } from '../services/feeds';\nimport Container from '@material-ui/core/Container';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport TurnedInIcon from '@material-ui/icons/TurnedIn';\nimport TurnedInNotIcon from '@material-ui/icons/TurnedInNot';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Link from '@material-ui/core/Link';\nimport DOMPurify from 'dompurify';\nimport DoneIcon from '@material-ui/icons/Done';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport Highlighter from \"react-highlight-words\";\n\nconst useStyles = makeStyles((theme) => ({\n  feedItem: {\n    padding: theme.spacing(0,9,3,9),\n  },\n  feedItemHeading: {\n    paddingBottom: theme.spacing(1),\n  },\n  itemHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  itemTitle: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  itemInfo: {\n    display: 'flex',\n  },\n  itemFeed: {\n    whiteSpace: 'nowrap',\n    textAlign: 'right',\n  },\n  itemAge: {\n    textAlign: 'right',\n    width: theme.spacing(6),\n  },\n  toolbar: {\n    paddingBottom: theme.spacing(2),\n  },\n  highlight: {\n    color: 'inherit',\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nexport default function FeedItem(props) {\n\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <>\n      {open ? (\n        <ListItem dense onClick={handleClick}>\n          <ListItemText />\n          {props.unread ?\n            <Tooltip title=\"Mark read\">\n              <IconButton size=\"small\" onClick={() => props.handleMarkRead(props.item._id)}>\n                <DoneIcon />\n              </IconButton>\n            </Tooltip>\n            :\n            <Tooltip title=\"Close\">\n              <IconButton size=\"small\">\n                <CloseIcon />\n              </IconButton>\n            </Tooltip>\n          }\n        </ListItem>\n      ) : (\n        <ListItem button dense>\n          <ListItemIcon>\n            <Tooltip title=\"Read later\">\n            {props.starred ?\n            (\n              <IconButton\n                size=\"small\"\n                onClick={() => props.handleUnstarItem(props.item._id)}\n              >\n                <TurnedInIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            ) :\n            (\n              <IconButton \n                size=\"small\"\n                onClick={() => props.handleStarItem(props.item._id)}\n              >\n                <TurnedInNotIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            )}\n            </Tooltip>\n          </ListItemIcon>\n          <ListItemText\n            onClick={handleClick}\n            primary={\n              <>\n              <div className={classes.itemHeader}>\n                <Typography  className={classes.itemTitle} color={props.unread ? 'textPrimary' : 'textSecondary' }>\n                  <Highlighter\n                    highlightClassName={classes.highlight}\n                    searchWords={[props.searchQuery]}\n                    autoEscape={true}\n                    textToHighlight={props.item.title}\n                  />\n                </Typography>\n                <div className={classes.itemInfo}>\n                  <div className={classes.itemFeed}>\n                    <Typography variant=\"caption\" color={props.unread ? 'textPrimary' : 'textSecondary' }>{props.item.feed.title}</Typography>\n                  </div>\n                  <div className={classes.itemAge}>\n                    <Typography variant=\"caption\" color={props.unread ? 'textPrimary' : 'textSecondary' }>{getAge(props.item.isoDate)}</Typography>\n                  </div>\n                </div>\n              </div>\n              </>\n            }\n          />\n        </ListItem>\n      )}\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <Container component=\"div\" className={classes.feedItem}>\n          <Typography variant=\"h5\" color={props.unread ? 'textPrimary' : 'textSecondary' } className={classes.feedItemHeading}>\n            {props.unread ?\n              <Link\n                href={props.item.link}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                color=\"inherit\"\n                underline=\"none\"\n                onClick={() => props.handleMarkRead(props.item._id)}\n              >\n                <Highlighter\n                  highlightClassName={classes.highlight}\n                  searchWords={[props.searchQuery]}\n                  autoEscape={true}\n                  textToHighlight={props.item.title}\n                />\n              </Link>\n              :\n              <Link\n                href={props.item.link}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                color=\"inherit\"\n                underline=\"none\"\n              >\n                <Highlighter\n                  highlightClassName={classes.highlight}\n                  searchWords={[props.searchQuery]}\n                  autoEscape={true}\n                  textToHighlight={props.item.title}\n                />\n              </Link>\n            }\n          </Typography>\n          {props.item.author || props.item.creator ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>{props.item.feed.title} by {props.item.author || props.item.creator}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{props.item.feed.title}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>}\n          {props.item.categories.length > 0 ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {props.item.categories.join(', ')}</Typography>\n          ) : <></>}\n          <ButtonGroup className={classes.toolbar}>\n            <Tooltip title=\"Read later\">\n              {props.starred ?\n              (\n                <Button\n                  aria-label=\"read later\"\n                  onClick={() => props.handleUnstarItem(props.item._id)}\n                >\n                  <TurnedInIcon />\n                </Button>\n              ) :\n              (\n                <Button \n                  aria-label=\"read later\"\n                  onClick={() => props.handleStarItem(props.item._id)}\n                >\n                  <TurnedInNotIcon />\n                </Button>\n              )}\n            </Tooltip>\n            <Button><MoreHorizIcon /></Button>\n          </ButtonGroup>\n          {props.item['content:encoded'] || props.item.content ? \n          (\n            <Typography variant=\"body1\" paragraph dangerouslySetInnerHTML={{__html: DOMPurify.sanitize(props.item['content:encoded'] || props.item.content)}} />\n          ) : <></>}\n          {props.unread ?\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n              onClick={() => props.handleMarkRead(props.item._id)}\n            >\n              Visit Website\n            </Button>\n            :\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n            >\n              Visit Website\n            </Button>\n          }\n        </Container>\n      </Collapse>\n      <Divider />\n    </>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { getFeed, getFeedItems, getStarred, starItem, unstarItem, markRead, unmarkRead, markFeedRead, getUnread } from '../services/feeds';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport ReadLaterItem from './ReadLaterItem';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport Container from '@material-ui/core/Container';\nimport DoneIcon from '@material-ui/icons/Done';\nimport IconButton from '@material-ui/core/IconButton';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\nimport Badge from '@material-ui/core/Badge';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  feedDetails: {\n    paddingTop: theme.spacing(2),\n    maxWidth: '100%',\n  },\n  feedHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n  },\n  feedToolbar: {\n    display: 'flex',\n  },\n  feedList: {\n    padding: 0,\n  },\n}));\n\nexport default function ReadLater(props) {\n  \n  const classes = useStyles();\n\n  const [feed, setFeed] = useState(null);\n  const [starredItems, setStarredItems] = useState(null);\n  const [unreadItems, setUnreadItems] = useState(null);\n  const [loadedItems, setLoadedItems] = useState(null);\n  const [hasMore, setHasMore] = useState(true);\n\n  const loadMoreItems = () => {\n    getFeedItems('starred', props.searchQuery, loadedItems.length, props.itemPerPage)\n      .then(newLoadedItems => {\n        if (newLoadedItems.length === 0) setHasMore(false);\n        else setLoadedItems(loadedItems.concat(newLoadedItems));\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleStarItem = (id) => {\n    starItem(id)\n      .then(items => {\n        if (items.message) console.log(items.message);\n        else setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnstarItem = (id) => {\n    unstarItem(id)\n      .then(items => {\n        setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkRead = (id) => {\n    markRead(id)\n      .then(response => {\n        if (response.message) console.log(response.message);\n        else {\n          getUnread('starred')\n            .then(fetchedUnreadItems => {\n              setUnreadItems(fetchedUnreadItems);\n            })\n            .catch(err => {\n              console.log(err);\n            })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkFeedRead = () => {\n    markFeedRead('starred')\n      .then(response => {\n        setUnreadItems(response);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnmarkRead = (id) => {\n    unmarkRead(id)\n      .then(() => {\n        getUnread('starred')\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleRefresh = () => {\n    props.setTitle('Read later')\n    setLoadedItems(null);\n    setHasMore(true);\n    getFeed('starred', props.searchQuery)\n      .then(fetchedFeed => {\n        setFeed(fetchedFeed);\n        getUnread('starred')\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n            getStarred()\n              .then(fetchedStarredItems => {\n                setStarredItems(fetchedStarredItems);\n                getFeedItems('starred', props.searchQuery, 0, props.itemPerPage)\n                  .then(feedItems => {\n                    setLoadedItems(feedItems);\n                  })\n                  .catch(err => {\n                    console.log(err);\n                  })\n              })\n              .catch(err => {\n                console.log(err);\n              })\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  useEffect(() => {\n    handleRefresh();\n  }, [props.match.params.id, props.searchQuery])\n\n  if (!loadedItems) return <LinearProgress />\n\n  return (\n    <div className={classes.root}>\n      <Container component=\"div\" className={classes.feedDetails}>\n        <div className={classes.feedHeader}>\n          <Typography variant=\"h4\">\n            Read later\n          </Typography>\n          <div className={classes.feedToolbar}>\n            {(unreadItems.length) === 0 ?\n              <Tooltip title=\"All Read\">\n                <IconButton>\n                  <DoneAllIcon/>\n                </IconButton>\n              </Tooltip>\n              :\n              <Tooltip title=\"Mark as Read\">\n                <Badge\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'left',\n                  }}\n                  badgeContent={unreadItems.length}\n                  color=\"primary\"\n                  overlap=\"circle\"\n                  max={999}\n                >\n                  <IconButton onClick={() => handleMarkFeedRead()}>\n                    <DoneIcon/>\n                  </IconButton>\n                </Badge>\n              </Tooltip>\n            }\n            <Tooltip title=\"Refresh\">\n              <IconButton onClick={() => handleRefresh()}>\n                <RefreshIcon/>\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"More options\">\n              <IconButton>\n                <MoreHorizIcon/>\n              </IconButton>\n            </Tooltip>\n          </div>\n        </div>\n          {feed.description ? \n          (\n            <Typography variant=\"subtitle1\">{feed.description}</Typography>\n          ) : <></>}\n          {feed.category ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {feed.category.join(', ')}, {feed.feedItems} articles</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{feed.feedItems} articles</Typography>}\n      </Container>\n      <Divider />\n      <List className={classes.feedList}>\n        <InfiniteScroll\n          dataLength={loadedItems.length}\n          next={loadMoreItems}\n          hasMore={hasMore}\n          loader={<LinearProgress />}\n          scrollableTarget=\"content\"\n        >\n          {loadedItems.map(item => {\n            return (\n              <ReadLaterItem\n                key={item._id}\n                feedTitle={item.feed.title}\n                item={item}\n                handleStarItem={handleStarItem}\n                handleUnstarItem={handleUnstarItem}\n                starred={starredItems.includes(item._id)}\n                handleMarkRead={handleMarkRead}\n                handleUnmarkRead={handleUnmarkRead}\n                unread={unreadItems.includes(item._id)}\n                {...props}\n              />\n            )\n          })}\n        </InfiniteScroll>\n      </List>\n    </div>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Zoom from '@material-ui/core/Zoom';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(4),\n  },\n}));\n\nexport default function ScrollTop(props) {\n  \n  const classes = useStyles();\n\n  const trigger = useScrollTrigger({\n    target: props.contentRef.current,\n    disableHysteresis: true,\n    threshold: 100,\n  });\n\n  const handleClick = (event) => {\n    const anchor = (event.target.ownerDocument || document).querySelector('#back-to-top-anchor');\n    if (anchor) {\n      anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    }\n  };\n\n  return (\n    <Zoom in={trigger}>\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\n        {props.children}\n      </div>\n    </Zoom>\n  );\n}","import React from 'react';\nimport { signout } from '../services/auth';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Avatar from '@material-ui/core/Avatar';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nexport default function OptionsMenu(props) {\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleSignout = () => {\n    signout()\n      .then(() => {\n        props.setUser(null);\n        props.history.push('/signin');\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Account\">\n        <IconButton\n          edge=\"end\"\n          onClick={handleMenuOpen}\n          color=\"inherit\"\n        >\n          <Avatar src={\" \"} alt={props.user.username} />\n        </IconButton>\n      </Tooltip>\n\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n        id='account-menu'\n        keepMounted\n        transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={Boolean(anchorEl)}\n        onClose={handleMenuClose}\n      >\n        <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\n        <MenuItem onClick={handleSignout}>Sign Out</MenuItem>\n      </Menu>\n    </>\n  );\n}","import axios from 'axios';\n\nconst signup = (username, password) => {\n  return axios.post('/api/auth/signup', { username, password })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst signin = (username, password) => {\n  return axios.post('/api/auth/login', { username, password })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst signout = () => {\n  return axios.delete('/api/auth/logout')\n    .then(response => {\n      return response.data\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nexport { signup, signin, signout };","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { getUserFeeds } from '../services/feeds';\nimport clsx from 'clsx';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Feed from './Feed';\nimport FeedList from './FeedList';\nimport ReadLater from './ReadLater';\nimport ScrollTop from './ScrollTop';\nimport AccountMenu from './AccountMenu';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useThemeSwitcher } from \"mui-theme-switcher\";\nimport WbSunnyIcon from '@material-ui/icons/WbSunny';\nimport Brightness3Icon from '@material-ui/icons/Brightness3';\nimport Fab from '@material-ui/core/Fab';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\n\nconst drawerWidth = 300;\nconst itemPerPage = 40;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n  },\n  container: {\n    padding: 0,\n    maxWidth: '100%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    marginRight: theme.spacing(1),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '12ch',\n      '&:focus': {\n        width: '20ch',\n      },\n    },\n  },\n}));\n\nexport default function Reader(props) {\n  const classes = useStyles();\n  const { dark, toggleDark } = useThemeSwitcher();\n  const [open, setOpen] = useState(false);\n  const [title, setTitle] = useState('Paperboy');\n  const [userFeeds, setUserFeeds] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const contentRef = React.useRef();\n\n  const handleDrawerOpen = () => {\n    if (open) setOpen(false);\n    if (!open) setOpen(true);\n  };\n\n  const search = e => {\n    setSearchQuery(e.target.value);\n  }\n\n  const updateUserFeeds = () => {\n    getUserFeeds()\n      .then(fetchedFeeds => {\n        setUserFeeds(fetchedFeeds);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  useEffect(() => {\n    updateUserFeeds()\n  }, [])\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            onClick={handleDrawerOpen}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\n            {title}\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Search\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              value={searchQuery}\n              onChange={search}\n            />\n          </div>\n          <Tooltip title=\"Toggle dark mode\">\n            <IconButton onClick={toggleDark} color=\"inherit\">\n              {dark ? <WbSunnyIcon /> : <Brightness3Icon />}\n            </IconButton>\n          </Tooltip>\n          <AccountMenu {...props} />\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n      >\n        <Toolbar />\n        <FeedList userFeeds={userFeeds} setUserFeeds={setUserFeeds} updateUserFeeds={updateUserFeeds} />\n        <Divider />\n      </Drawer>\n      <main id=\"content\" className={classes.content}  ref={contentRef}>\n        <Toolbar id=\"back-to-top-anchor\"/>\n        <Container className={classes.container}>\n\n          <Switch>\n            <Route\n              exact path={'/read-later'}\n              render={props => {\n                return <ReadLater setTitle={setTitle} searchQuery={searchQuery} itemPerPage={itemPerPage} {...props} />\n              }}\n            />\n            <Route\n              exact path={'/:id'}\n              render={props => {\n                return <Feed setTitle={setTitle} setUserFeeds={setUserFeeds} searchQuery={searchQuery} itemPerPage={itemPerPage} {...props} />\n              }}\n            />\n          </Switch>\n\n          <ScrollTop contentRef={contentRef} {...props}>\n            <Fab color=\"primary\" size=\"small\">\n              <KeyboardArrowUpIcon />\n            </Fab>\n          </ScrollTop>\n\n        </Container>\n      </main>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { signin } from '../services/auth';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    backgroundImage: 'url(https://images.unsplash.com/photo-1541613569553-332a2574a508)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignIn(props) {\n\n  const classes = useStyles();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [usernameError, setUsernameError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    signin(username, password)\n      .then(response => {\n        if (response.usernameError) {\n          setUsernameError(response.usernameError);\n          setPasswordError('');\n        } else if (response.passwordError) {\n          setUsernameError('');\n          setPasswordError(response.passwordError);\n        } else {\n          props.setUser(response);\n          props.history.push('/');\n        }\n      })\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} onSubmit={handleSubmit} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              value={username}\n              onChange={e => setUsername(e.target.value)}\n              error={!!usernameError}\n              helperText={usernameError}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={password}\n              onChange={e => setPassword(e.target.value)}\n              error={!!passwordError}\n              helperText={passwordError}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item>\n                <Link component={RouterLink} to=\"/signup\" variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}","import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { signup } from '../services/auth';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignUp(props) {\n\n  const classes = useStyles();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [usernameError, setUsernameError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [confirmError, setConfirmError] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (password === confirm) {\n      signup(username, password)\n        .then(response => {\n          if (response.usernameError) {\n            setUsernameError(response.usernameError);\n            setPasswordError('');\n          } else if (response.passwordError) {\n            setUsernameError('');\n            setPasswordError(response.passwordError);\n          } else {\n            props.setUser(response);\n            props.history.push('/');\n          }\n        })\n    } else {\n      setConfirmError('Passwords do not match')\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"username\"\n                label=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={e => setUsername(e.target.value)}\n                error={!!usernameError}\n                helperText={usernameError}\n                autoFocus\n                // autoComplete=\"username\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n            <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                error={!!passwordError}\n                helperText={passwordError}\n                // autoComplete=\"new-password\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"confirm\"\n                label=\"Confirm\"\n                type=\"password\"\n                id=\"confirm\"\n                value={confirm}\n                onChange={e => setConfirm(e.target.value)}\n                error={!!confirmError}\n                helperText={confirmError}\n                // autoComplete=\"new-password\"\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign Up\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link component={RouterLink} to=\"/signin\" variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n}","import React from 'react';\nimport '@fontsource/roboto';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { Route, Redirect } from 'react-router-dom';\nimport Reader from './components/Reader';\nimport SignIn from './components/SignIn';\nimport SignUp from './components/SignUp';\n\nfunction App(props) {\n\n  const [user, setUser] = React.useState(props.user);\n\n  return (\n    <>\n      <CssBaseline/>\n      <Route\n        path='/'\n        render={props => {\n          if (user) {\n            return <Reader setUser={setUser} user={user} {...props} />\n          } else return <Redirect to='/signin' />\n        }}\n      />\n      <Route\n        exact path=\"/signin\"\n        render={props => <SignIn setUser={setUser} {...props} />}\n      />\n      <Route\n        exact path=\"/signup\"\n        render={props => <SignUp setUser={setUser} {...props} />}\n      />\n    </>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport axios from 'axios';\nimport { createMuiTheme } from \"@material-ui/core\";\nimport { ThemeSwitcherProvider } from \"mui-theme-switcher\";\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nconst lightTheme = createMuiTheme();\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n    // primary: {\n    //   main: '#000000',\n    //   // background: {\n    //   //   default: '#000000',\n    //   //   paper: '#000000',\n    //   // },\n    // },\n  }\n});\n\naxios.get('/api/auth/loggedin')\n  .then(response => {\n    const user = response.data;\n    ReactDOM.render(\n      <ThemeSwitcherProvider\n        lightTheme={lightTheme}\n        darkTheme={darkTheme}\n        followSystem=\"true\"\n        persist=\"true\"\n        appId=\"paperboy\"\n      >     \n        <BrowserRouter>\n          <App id=\"paperboy\" user={user} />\n        </BrowserRouter>\n      </ThemeSwitcherProvider>,\n      document.getElementById('root')\n    );\n  })\n  .catch(err => {\n    console.log(err)\n  })\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}