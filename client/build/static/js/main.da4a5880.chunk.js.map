{"version":3,"sources":["services/feeds.js","components/Welcome.js","components/FeedItem.js","components/OptionsMenu.js","components/Feed.js","components/AddFeed.js","components/FeedList.js","components/ReadLaterItem.js","components/ReadLater.js","components/ScrollTop.js","components/AccountMenu.js","services/auth.js","components/Reader.js","components/SignIn.js","components/SignUp.js","App.js","reportWebVitals.js","index.js"],"names":["getFeed","id","query","axios","get","then","response","data","catch","err","getFeedItems","skip","limit","getIcon","link","url","URL","hostname","getAge","date","age","Date","now","Math","floor","starItem","put","starred","unstarItem","getStarred","markRead","unread","unmarkRead","markFeedRead","getUnread","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","welcome","paddingTop","spacing","maxWidth","heading","paddingBottom","addNew","Feed","props","classes","useEffect","setTitle","className","Container","component","Typography","variant","userFeeds","length","feedItem","padding","feedItemHeading","feedHeader","display","justifyContent","alignItems","itemTitle","overflow","whiteSpace","textOverflow","toolbar","highlight","color","primary","main","FeedItem","useState","open","setOpen","handleClick","ListItem","dense","onClick","ListItemText","Tooltip","title","IconButton","size","handleMarkRead","item","_id","button","ListItemIcon","handleUnstarItem","fontSize","handleStarItem","highlightClassName","searchWords","searchQuery","autoEscape","textToHighlight","isoDate","Collapse","in","timeout","unmountOnExit","Link","href","target","rel","underline","author","creator","paragraph","feedTitle","toLocaleString","handleUnmarkRead","ButtonGroup","Button","aria-label","content","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","fullWidth","Divider","OptionsMenu","React","anchorEl","setAnchorEl","handleDialogClose","event","currentTarget","getContentAnchorEl","keepMounted","anchorOrigin","vertical","horizontal","transformOrigin","Boolean","onClose","MenuItem","Dialog","DialogTitle","DialogContent","DialogContentText","feed","DialogActions","autoFocus","delete","updatedFeeds","setUserFeeds","history","push","console","log","feedDetails","feedToolbar","feedList","setFeed","starredItems","setStarredItems","unreadItems","setUnreadItems","loadedItems","setLoadedItems","hasMore","setHasMore","items","message","fetchedUnreadItems","handleRefresh","match","params","fetchedFeed","fetchedStarredItems","itemPerPage","feedItems","Badge","badgeContent","overlap","max","description","category","join","List","dataLength","next","newLoadedItems","concat","loader","LinearProgress","scrollableTarget","map","includes","appBar","position","search","borderRadius","shape","fade","common","white","marginRight","marginLeft","breakpoints","up","searchIcon","height","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","menuButton","Transition","forwardRef","ref","Slide","direction","AddFeed","loading","setLoading","feeds","setFeeds","filteredFeeds","setFilteredFeeds","feedUrl","setFeedUrl","setMessage","searchRef","useRef","useHistory","handleClickOpen","allFeeds","handleClose","handleAddFeed","current","post","updateUserFeeds","placement","edge","fullScreen","TransitionComponent","AppBar","Toolbar","InputBase","placeholder","input","value","onChange","e","filtered","filter","toLowerCase","autofocus","disabled","Popover","Alert","severity","Avatar","src","alt","FeedList","NavLink","to","activeClassName","ListItemAvatar","itemHeader","itemInfo","itemFeed","textAlign","itemAge","ReadLater","bottom","right","ScrollTop","trigger","useScrollTrigger","contentRef","disableHysteresis","threshold","Zoom","anchor","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","children","handleMenuClose","user","username","setUser","zIndex","drawer","menuButtonHidden","flexGrow","drawerPaper","easing","sharp","duration","enteringScreen","drawerPaperClose","overflowX","leavingScreen","appBarSpacer","mixins","container","flexDirection","Reader","useThemeSwitcher","dark","toggleDark","setSearchQuery","fetchedFeeds","CssBaseline","noWrap","Drawer","clsx","exact","path","render","Fab","image","backgroundImage","backgroundRepeat","type","grey","backgroundSize","backgroundPosition","card","margin","marginBottom","avatar","secondary","form","marginTop","submit","SignIn","setUsername","password","setPassword","usernameError","setUsernameError","passwordError","setPasswordError","Grid","xs","sm","md","Card","CardContent","Paper","elevation","square","onSubmit","preventDefault","signin","noValidate","TextField","required","label","name","autoComplete","error","helperText","RouterLink","SignUp","confirm","setConfirm","confirmError","setConfirmError","signup","justify","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","lightTheme","createMuiTheme","darkTheme","ReactDOM","followSystem","persist","appId","getElementById"],"mappings":"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","file":"static/js/main.da4a5880.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst addFeed = (url) => {\n  return axios.post('/api/feeds', { url })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst getFeed = (id, query = '') => {\n  return axios.get(`/api/feeds?id=${id}&q=${query}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getFeedItems = (id, query, skip, limit) => {\n  return axios.get(`/api/feeds?id=${id}&q=${query}&skip=${skip}&limit=${limit}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getUserFeeds = () => {\n  return axios.get('/api/feeds')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getAllFeeds = () => {\n  return axios.get('/api/feeds/all')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getIcon = (link) => {\n  const url = new URL(link);\n  return `https://logo.clearbit.com/${url.hostname}`\n}\n\nconst getAge = (date) => {\n  const age = Date.now() - new Date(date);\n  if (Math.floor(age / (1000 * 60 * 60 * 24 * 365 )) > 0) return `${Math.floor(age / (1000 * 60 * 60 * 24 * 365 ))}y`;\n  if (Math.floor(age / (1000 * 60 * 60 * 24 * 7 ))) return `${Math.floor(age / (1000 * 60 * 60 * 24 * 7 ))}w`;\n  if (Math.floor(age / (1000 * 60 * 60 * 24 ))) return `${Math.floor(age / (1000 * 60 * 60 * 24))}d`;\n  if (Math.floor(age / (1000 * 60 * 60 ))) return `${Math.floor(age / (1000 * 60 * 60))}h`;\n  if (Math.floor(age / (1000 * 60))) return `${Math.floor(age / (1000 * 60))}min`;\n  if (Math.floor(age / (1000))) return `${Math.floor(age / (1000))}s`;\n}\n\nconst starItem = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { starred: true })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst unstarItem = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { starred: false })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst getStarred = () => {\n  return axios.get('/api/feeds/starred')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst markRead = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { unread: false })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst unmarkRead = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { unread: true })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst markFeedRead = (id) => {\n  return axios.put(`/api/feeds?id=${id}&unread=${false}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst getUnread = (id) => {\n  return axios.get(`/api/feeds?id=${id}&unread=${true}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\n// const getAllRead = () => {\n//   return axios.get('/api/feeds/read')\n//     .then(response => {\n//       return response.data;\n//     })\n//     .catch(err => {\n//       return err;\n//     })\n// }\n\n// const getReadStarred = () => {\n//   return axios.get('/api/feeds/read-starred')\n//     .then(response => {\n//       return response.data;\n//     })\n//     .catch(err => {\n//       return err;\n//     })\n// }\n\n// const getReadLater = (id) => {\n//   return axios.get('/api/feeds/read-later')\n//     .then(response => {\n//       return response.data;\n//     })\n//     .catch(err => {\n//       return err;\n//     })\n// }\n\nconst unfollowFeed = (id) => {\n  return axios.delete(`/api/feeds?id=${id}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nexport { addFeed, getFeed, getFeedItems, getUserFeeds, getAllFeeds, getIcon, getAge, starItem, unstarItem, getStarred, markRead, unmarkRead, markFeedRead, getUnread, unfollowFeed };","import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  welcome: {\n    paddingTop: theme.spacing(2),\n    maxWidth: '100%',\n  },\n  heading: {\n    paddingBottom: theme.spacing(1),\n  },\n  addNew: {\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n  },\n\n}));\n\nexport default function Feed(props) {\n  \n  const classes = useStyles();\n  \n  useEffect(() => {\n    props.setTitle('Paperboy');\n  }, [])\n\n  return (\n    <div className={classes.root}>\n      <Container component=\"div\" className={classes.welcome}>\n        <Typography variant=\"h3\" className={classes.heading}>\n          Welcome to Paperboy\n        </Typography>\n        {props.userFeeds.length ?\n          <></>\n          :\n          <>\n          <Typography variant=\"h4\">\n            You follow no feeds yet\n          </Typography>\n          <Typography variant=\"h4\" className={classes.addNew}>\n            <ArrowBackIcon /> Click to add new feed\n          </Typography>\n          </>\n        }\n      </Container>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getAge } from '../services/feeds';\nimport Container from '@material-ui/core/Container';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport TurnedInIcon from '@material-ui/icons/TurnedIn';\nimport TurnedInNotIcon from '@material-ui/icons/TurnedInNot';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Link from '@material-ui/core/Link';\nimport DOMPurify from 'dompurify';\nimport DoneIcon from '@material-ui/icons/Done';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport Highlighter from \"react-highlight-words\";\n\nconst useStyles = makeStyles((theme) => ({\n  feedItem: {\n    padding: theme.spacing(0,9,3,9),\n  },\n  feedItemHeading: {\n    paddingBottom: theme.spacing(1),\n  },\n  feedHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  itemTitle: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  toolbar: {\n    paddingBottom: theme.spacing(2),\n  },\n  highlight: {\n    color: 'inherit',\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nexport default function FeedItem(props) {\n\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <>\n      {open ? (\n        <ListItem dense onClick={handleClick}>\n          <ListItemText />\n          {props.unread ?\n            <Tooltip title=\"Mark read\">\n              <IconButton size=\"small\" onClick={() => props.handleMarkRead(props.item._id)}>\n                <DoneIcon />\n              </IconButton>\n            </Tooltip>\n            :\n            <Tooltip title=\"Close\">\n              <IconButton size=\"small\">\n                <CloseIcon />\n              </IconButton>\n            </Tooltip>\n          }\n        </ListItem>\n      ) : (\n        <ListItem button dense>\n          <ListItemIcon>\n            <Tooltip title=\"Read later\">\n            {props.starred ?\n            (\n              <IconButton\n                size=\"small\"\n                onClick={() => props.handleUnstarItem(props.item._id)}\n              >\n                <TurnedInIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            ) :\n            (\n              <IconButton \n                size=\"small\"\n                onClick={() => props.handleStarItem(props.item._id)}\n              >\n                <TurnedInNotIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            )}\n            </Tooltip>\n          </ListItemIcon>\n          <ListItemText\n            onClick={handleClick}\n            primary={\n              <div className={classes.feedHeader}>\n                <Typography className={classes.itemTitle} color={props.unread ? 'textPrimary' : 'textSecondary' }>\n                  <Highlighter\n                    highlightClassName={classes.highlight}\n                    searchWords={[props.searchQuery]}\n                    autoEscape={true}\n                    textToHighlight={props.item.title}\n                  />\n                </Typography>\n                <Typography variant=\"caption\" color={props.unread ? 'textPrimary' : 'textSecondary' }>{getAge(props.item.isoDate)}</Typography>\n              </div>\n            }\n          />\n        </ListItem>\n      )}\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <Container component=\"div\" className={classes.feedItem}>\n          <Typography variant=\"h5\" color={props.unread ? 'textPrimary' : 'textSecondary' } className={classes.feedItemHeading}>\n            {props.unread ?\n            <Link\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              color=\"inherit\"\n              underline=\"none\"\n              onClick={() => props.handleMarkRead(props.item._id)}\n            >\n              <Highlighter\n                highlightClassName={classes.highlight}\n                searchWords={[props.searchQuery]}\n                autoEscape={true}\n                textToHighlight={props.item.title}\n              />\n            </Link>\n            :\n            <Link\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              color=\"inherit\"\n              underline=\"none\"\n            >\n              <Highlighter\n                highlightClassName={classes.highlight}\n                searchWords={[props.searchQuery]}\n                autoEscape={true}\n                textToHighlight={props.item.title}\n              />\n            </Link>\n            }\n          </Typography>\n          {props.item.author || props.item.creator ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>{props.feedTitle} by {props.item.author || props.item.creator}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{props.feedTitle}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>}\n          {/* {props.item.categories.length > 0 ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {props.item.categories.join(', ')}</Typography>\n          ) : <></>} */}\n          <ButtonGroup className={classes.toolbar}>\n            <Tooltip title=\"Read later\">\n              {props.starred ?\n              (\n                <Button\n                  aria-label=\"read later\"\n                  onClick={() => props.handleUnstarItem(props.item._id)}\n                >\n                  <TurnedInIcon />\n                </Button>\n              ) :\n              (\n                <Button \n                  aria-label=\"read later\"\n                  onClick={() => props.handleStarItem(props.item._id)}\n                >\n                  <TurnedInNotIcon />\n                </Button>\n              )}\n            </Tooltip>\n            <Button><MoreHorizIcon /></Button>\n          </ButtonGroup>\n          {props.item['content:encoded'] || props.item.content ? \n          (\n            <Typography variant=\"body1\" paragraph dangerouslySetInnerHTML={{__html: DOMPurify.sanitize(props.item['content:encoded'] || props.item.content)}} />\n          ) : <></>}\n          {props.unread ?\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n              onClick={() => props.handleMarkRead(props.item._id)}\n            >\n              Visit Website\n            </Button>\n            :\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n            >\n              Visit Website\n            </Button>\n          }\n        </Container>\n      </Collapse>\n      <Divider />\n    </>\n  );\n}","import React from 'react';\nimport { unfollowFeed } from '../services/feeds';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\n\nexport default function OptionsMenu(props) {\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [open, setOpen] = React.useState(false);\n\n  const handleMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleDialogOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDialogClose = () => {\n    setOpen(false);\n    setAnchorEl(null);\n  };\n\n  const handleUnfollow = () => {\n    unfollowFeed(props.feed._id)\n      .then(updatedFeeds => {\n        handleDialogClose();\n        props.setUserFeeds(updatedFeeds);\n        props.setTitle('Paperboy');\n        props.history.push('/');\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  return (\n    <>\n      <Tooltip title=\"More options\">\n        <IconButton onClick={handleMenuOpen}>\n          <MoreHorizIcon/>\n        </IconButton>\n      </Tooltip>\n\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        keepMounted\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n        transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={Boolean(anchorEl)}\n        onClose={handleMenuClose}\n      >\n        <MenuItem dense onClick={handleDialogOpen}>\n          <ListItemIcon>\n            <DeleteIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>\n            Unfollow\n          </ListItemText>\n        </MenuItem>\n      </Menu>\n      <Dialog\n        open={open}\n        onClose={handleDialogClose}\n      >\n        <DialogTitle>Unfollow feed</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Do you really want to unfollow this feed?<br/>\n            {props.feed.title}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleDialogClose} color=\"primary\" autoFocus>\n            Dismiss\n          </Button>\n          <Button onClick={handleUnfollow} color=\"secondary\">\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { getFeed, getFeedItems, getStarred, starItem, unstarItem, markRead, unmarkRead, markFeedRead, getUnread } from '../services/feeds';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport FeedItem from './FeedItem';\nimport OptionsMenu from './OptionsMenu';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport Link from '@material-ui/core/Link';\nimport Divider from '@material-ui/core/Divider';\nimport Container from '@material-ui/core/Container';\nimport DoneIcon from '@material-ui/icons/Done';\nimport IconButton from '@material-ui/core/IconButton';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\nimport Badge from '@material-ui/core/Badge';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  feedDetails: {\n    paddingTop: theme.spacing(2),\n    maxWidth: '100%',\n  },\n  feedHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n  },\n  feedToolbar: {\n    display: 'flex',\n  },\n  feedList: {\n    padding: 0,\n  },\n}));\n\nexport default function Feed(props) {\n  \n  const classes = useStyles();\n\n  const [feed, setFeed] = useState(null);\n  const [starredItems, setStarredItems] = useState(null);\n  const [unreadItems, setUnreadItems] = useState(null);\n  const [loadedItems, setLoadedItems] = useState(null);\n  const [hasMore, setHasMore] = useState(true);\n\n  const loadMoreItems = () => {\n    getFeedItems(feed._id, props.searchQuery, loadedItems.length , props.itemPerPage)\n      .then(newLoadedItems => {\n        if (newLoadedItems.length === 0) setHasMore(false);\n        else setLoadedItems(loadedItems.concat(newLoadedItems));\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleStarItem = (id) => {\n    starItem(id)\n      .then(items => {\n        if (items.message) console.log(items.message);\n        else setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnstarItem = (id) => {\n    unstarItem(id)\n      .then(items => {\n        setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkRead = (id) => {\n    markRead(id)\n      .then(response => {\n        if (response.message) console.log(response.message);\n        else {\n          getUnread(feed._id)\n            .then(fetchedUnreadItems => {\n              setUnreadItems(fetchedUnreadItems);\n            })\n            .catch(err => {\n              console.log(err);\n            })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkFeedRead = () => {\n    markFeedRead(feed._id)\n      .then(response => {\n        setUnreadItems(response);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnmarkRead = (id) => {\n    unmarkRead(id)\n      .then(() => {\n        getUnread(feed._id)\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleRefresh = () => {\n    setLoadedItems(null);\n    setHasMore(true);\n    getFeed(props.match.params.id, props.searchQuery)\n      .then(fetchedFeed => {\n        setFeed(fetchedFeed);\n        props.setTitle(fetchedFeed.title)\n        getUnread(fetchedFeed._id)\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n            getStarred()\n              .then(fetchedStarredItems => {\n                setStarredItems(fetchedStarredItems);\n                getFeedItems(fetchedFeed._id, props.searchQuery, 0, props.itemPerPage)\n                  .then(feedItems => {\n                    setLoadedItems(feedItems);\n                  })\n                  .catch(err => {\n                    console.log(err);\n                  })\n              })\n              .catch(err => {\n                console.log(err);\n              })\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  useEffect(() => {\n    handleRefresh();\n  }, [props.match.params.id, props.searchQuery])\n\n  if (!loadedItems) return <LinearProgress />\n\n  return (\n    <div id=\"feed\" className={classes.root}>\n      <Container component=\"div\" className={classes.feedDetails}>\n        <div className={classes.feedHeader}>\n          <Typography variant=\"h4\">\n            <Link\n              href={feed.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              color=\"inherit\"\n              underline=\"none\"\n            >\n              {feed.title}\n            </Link>\n          </Typography>\n          <div className={classes.feedToolbar}>\n            {(unreadItems.length) === 0 ?\n              <Tooltip title=\"All Read\">\n                <IconButton>\n                  <DoneAllIcon/>\n                </IconButton>\n              </Tooltip>\n              :\n              <Tooltip title=\"Mark as Read\">\n                <Badge\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'left',\n                  }}\n                  badgeContent={unreadItems.length}\n                  color=\"primary\"\n                  overlap=\"circle\"\n                  max={999}\n                >\n                  <IconButton onClick={() => handleMarkFeedRead()}>\n                    <DoneIcon/>\n                  </IconButton>\n                </Badge>\n              </Tooltip>\n            }\n            <Tooltip title=\"Refresh\">\n              <IconButton onClick={() => handleRefresh()}>\n                <RefreshIcon/>\n              </IconButton>\n            </Tooltip>\n            <OptionsMenu feed={feed} history={props.history} setUserFeeds={props.setUserFeeds}{...props} />\n          </div>\n        </div>\n          {feed.description ? \n          (\n            <Typography variant=\"subtitle1\">{feed.description}</Typography>\n          ) : <></>}\n          {feed.category ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {feed.category.join(', ')}, {feed.feedItems} articles</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{feed.feedItems} articles</Typography>}\n      </Container>\n      <Divider />\n      <List className={classes.feedList}>\n        <InfiniteScroll\n          dataLength={loadedItems.length}\n          next={loadMoreItems}\n          hasMore={hasMore}\n          loader={<LinearProgress />}\n          scrollableTarget=\"content\"\n        >\n          {loadedItems.map(item => {\n            return (\n              <FeedItem\n                key={item._id}\n                feedTitle={feed.title}\n                item={item}\n                handleStarItem={handleStarItem}\n                handleUnstarItem={handleUnstarItem}\n                starred={starredItems.includes(item._id)}\n                handleMarkRead={handleMarkRead}\n                handleUnmarkRead={handleUnmarkRead}\n                unread={unreadItems.includes(item._id)}\n                {...props}\n              />\n            )\n          })}\n        </InfiniteScroll>\n      </List>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport { addFeed, getAllFeeds, getIcon } from '../services/feeds';\nimport Dialog from '@material-ui/core/Dialog';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport Avatar from '@material-ui/core/Avatar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddIcon from '@material-ui/icons/Add';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Popover from '@material-ui/core/Popover';\nimport Alert from '@material-ui/lab/Alert';\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: 'relative',\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: '100%',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    // [theme.breakpoints.up('md')]: {\n    //   width: '20ch',\n    // },\n  },\n  menuButton: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AddFeed(props) {\n\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [feeds, setFeeds] = useState(null);\n  const [filteredFeeds, setFilteredFeeds] = useState(null);\n  const [feedUrl, setFeedUrl] = useState('');\n  const [message, setMessage] = useState('');\n  const [anchorEl, setAnchorEl] = useState(null);\n  const searchRef = React.useRef();\n  let history = useHistory();\n\n  const handleClickOpen = () => {\n    setOpen(true);\n    setLoading(true);\n    setFeedUrl('');\n    getAllFeeds()\n      .then(allFeeds => {\n        setLoading(false);\n        setFeeds(allFeeds);\n        setFilteredFeeds(allFeeds);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setAnchorEl(null);\n    setMessage('');\n  };\n\n  const handleAddFeed = () => {\n    setAnchorEl(searchRef.current);\n    setLoading(true);\n    addFeed(feedUrl)\n      .then(response => {\n        setLoading(false);\n        if (response.message) {\n          setMessage(response.message);\n        }\n        else {\n          setMessage('');\n          setAnchorEl(null);\n          setOpen(false);\n          props.updateUserFeeds();\n          history.push(`/${response._id}`);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  const search = e => {\n    setFeedUrl(e.target.value);\n    const filtered = e.target.value ? feeds.filter(feed => feed.title.toLowerCase().includes(e.target.value.toLowerCase()) || feed.feedUrl.toLowerCase().includes(e.target.value.toLowerCase())) : feeds;\n    setFilteredFeeds(filtered);\n  }\n\n  if (!filteredFeeds) return (\n    <Tooltip title=\"Add new feed\" placement=\"right\">\n      <ListItem button onClick={handleClickOpen}>\n        <ListItemIcon className={classes.menuButton}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n          >\n            <AddIcon/>\n          </IconButton>\n        </ListItemIcon>\n        <ListItemText primary=\"Add new feed\" />\n      </ListItem>\n    </Tooltip>\n  )\n\n  return (\n    <div>\n      <Tooltip title=\"Add new feed\" placement=\"right\">\n        <ListItem button onClick={handleClickOpen}>\n          <ListItemIcon className={classes.menuButton}>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n            >\n              <AddIcon/>\n            </IconButton>\n          </ListItemIcon>\n          <ListItemText primary=\"Add new feed\" />\n        </ListItem>\n      </Tooltip>\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose}>\n              <CloseIcon />\n            </IconButton>\n            <div className={classes.search} ref={searchRef}>\n              <div className={classes.searchIcon}>\n                <SearchIcon />\n              </div>\n              <InputBase\n                placeholder=\"Search or enter URL\"\n                classes={{\n                  root: classes.inputRoot,\n                  input: classes.inputInput,\n                }}\n                // inputProps={{ 'aria-label': 'search' }}\n                value={feedUrl}\n                onChange={search}\n                fullWidth\n                autofocus\n              />\n            </div>\n            {loading ? \n            <IconButton disabled color=\"inherit\" onClick={handleAddFeed}>\n              <AddIcon/>\n            </IconButton>\n            :\n            <IconButton color=\"inherit\" onClick={handleAddFeed}>\n              <AddIcon/>\n            </IconButton>\n            }\n            <Popover\n              id='error-popover'\n              open={!!message}\n              anchorEl={anchorEl}\n              onClose={() => setMessage('')}\n              anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n              }}\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'left',\n              }}\n            >\n              <Alert severity=\"error\">{message}</Alert>\n            </Popover>\n          </Toolbar>\n        </AppBar>\n        {loading ?\n          <LinearProgress />\n          :\n          <List>\n            {filteredFeeds.map(feed => {\n              return (\n                <ListItem button key={feed._id} onClick={() => setFeedUrl(feed.feedUrl)}>\n                  <ListItemIcon>\n                    <Avatar variant=\"rounded\" src={getIcon(feed.link)} alt={feed.title} />\n                  </ListItemIcon>\n                  <ListItemText primary={feed.title} />\n                </ListItem>\n              )\n            })}\n          </List>\n        }\n      </Dialog>\n    </div>\n  );\n}","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { getIcon } from '../services/feeds';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport Avatar from '@material-ui/core/Avatar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddFeed from './AddFeed';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport BookmarksIcon from '@material-ui/icons/Bookmarks';\nimport IconButton from '@material-ui/core/IconButton';\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  feedTitle: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n}));\n\nexport default function FeedList(props) {\n\n  const classes = useStyles();\n\n  // const [feeds, setFeeds] = useState([]);\n\n  // const updateUserFeeds = () => {\n  //   getUserFeeds()\n  //     .then(fetchedFeeds => {\n  //       props.setUserFeeds(fetchedFeeds);\n  //     })\n  //     .catch(err => {\n  //       console.log(err);\n  //     })\n  // }\n\n  // useEffect(() => {\n  //   updateUserFeeds()\n  // }, [])\n\n  if (!props.userFeeds) return <LinearProgress />\n\n  return (\n    <List>\n      <Tooltip title=\"All feeds\" placement=\"right\">\n        <ListItem button component={NavLink} to={`/all`} activeClassName=\"Mui-selected\">\n          <ListItemIcon className={classes.menuButton}>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n            >\n              <LibraryBooksIcon/>\n            </IconButton>\n          </ListItemIcon>\n          <ListItemText primary=\"All feeds\" />\n        </ListItem>\n      </Tooltip>\n      <Tooltip title=\"Read later\" placement=\"right\">\n        <ListItem button component={NavLink} to={`/read-later`} activeClassName=\"Mui-selected\">\n          <ListItemIcon className={classes.menuButton}>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n            >\n              <BookmarksIcon/>\n            </IconButton>\n          </ListItemIcon>\n          <ListItemText primary=\"Read later\" />\n        </ListItem>\n      </Tooltip>\n      {props.userFeeds.map(feed => {\n        return (\n          <Tooltip title={feed.title} key={feed._id} placement=\"right\">\n            <ListItem button component={NavLink} to={`/${feed._id}`} activeClassName=\"Mui-selected\">\n              <ListItemAvatar>\n                <Avatar variant=\"rounded\" src={getIcon(feed.link)} alt={feed.title} />\n              </ListItemAvatar>\n              <ListItemText primary={feed.title} className={classes.feedTitle}/>\n            </ListItem>\n          </Tooltip>\n        )\n      })}\n      <AddFeed updateUserFeeds={() => props.updateUserFeeds()} setUserFeeds={props.setUserFeeds} />\n    </List>\n  )\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getAge } from '../services/feeds';\nimport Container from '@material-ui/core/Container';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport TurnedInIcon from '@material-ui/icons/TurnedIn';\nimport TurnedInNotIcon from '@material-ui/icons/TurnedInNot';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Link from '@material-ui/core/Link';\nimport DOMPurify from 'dompurify';\nimport DoneIcon from '@material-ui/icons/Done';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport Highlighter from \"react-highlight-words\";\n\nconst useStyles = makeStyles((theme) => ({\n  feedItem: {\n    padding: theme.spacing(0,9,3,9),\n  },\n  feedItemHeading: {\n    paddingBottom: theme.spacing(1),\n  },\n  itemHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  itemTitle: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  itemInfo: {\n    display: 'flex',\n  },\n  itemFeed: {\n    whiteSpace: 'nowrap',\n    textAlign: 'right',\n  },\n  itemAge: {\n    textAlign: 'right',\n    width: theme.spacing(6),\n  },\n  toolbar: {\n    paddingBottom: theme.spacing(2),\n  },\n  highlight: {\n    color: 'inherit',\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nexport default function FeedItem(props) {\n\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <>\n      {open ? (\n        <ListItem dense onClick={handleClick}>\n          <ListItemText />\n          {props.unread ?\n            <Tooltip title=\"Mark read\">\n              <IconButton size=\"small\" onClick={() => props.handleMarkRead(props.item._id)}>\n                <DoneIcon />\n              </IconButton>\n            </Tooltip>\n            :\n            <Tooltip title=\"Close\">\n              <IconButton size=\"small\">\n                <CloseIcon />\n              </IconButton>\n            </Tooltip>\n          }\n        </ListItem>\n      ) : (\n        <ListItem button dense>\n          <ListItemIcon>\n            <Tooltip title=\"Read later\">\n            {props.starred ?\n            (\n              <IconButton\n                size=\"small\"\n                onClick={() => props.handleUnstarItem(props.item._id)}\n              >\n                <TurnedInIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            ) :\n            (\n              <IconButton \n                size=\"small\"\n                onClick={() => props.handleStarItem(props.item._id)}\n              >\n                <TurnedInNotIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            )}\n            </Tooltip>\n          </ListItemIcon>\n          <ListItemText\n            onClick={handleClick}\n            primary={\n              <>\n              <div className={classes.itemHeader}>\n                <Typography  className={classes.itemTitle} color={props.unread ? 'textPrimary' : 'textSecondary' }>\n                  <Highlighter\n                    highlightClassName={classes.highlight}\n                    searchWords={[props.searchQuery]}\n                    autoEscape={true}\n                    textToHighlight={props.item.title}\n                  />\n                </Typography>\n                <div className={classes.itemInfo}>\n                  <div className={classes.itemFeed}>\n                    <Typography variant=\"caption\" color={props.unread ? 'textPrimary' : 'textSecondary' }>{props.item.feed.title}</Typography>\n                  </div>\n                  <div className={classes.itemAge}>\n                    <Typography variant=\"caption\" color={props.unread ? 'textPrimary' : 'textSecondary' }>{getAge(props.item.isoDate)}</Typography>\n                  </div>\n                </div>\n              </div>\n              </>\n            }\n          />\n        </ListItem>\n      )}\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <Container component=\"div\" className={classes.feedItem}>\n          <Typography variant=\"h5\" color={props.unread ? 'textPrimary' : 'textSecondary' } className={classes.feedItemHeading}>\n            {props.unread ?\n              <Link\n                href={props.item.link}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                color=\"inherit\"\n                underline=\"none\"\n                onClick={() => props.handleMarkRead(props.item._id)}\n              >\n                <Highlighter\n                  highlightClassName={classes.highlight}\n                  searchWords={[props.searchQuery]}\n                  autoEscape={true}\n                  textToHighlight={props.item.title}\n                />\n              </Link>\n              :\n              <Link\n                href={props.item.link}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                color=\"inherit\"\n                underline=\"none\"\n              >\n                <Highlighter\n                  highlightClassName={classes.highlight}\n                  searchWords={[props.searchQuery]}\n                  autoEscape={true}\n                  textToHighlight={props.item.title}\n                />\n              </Link>\n            }\n          </Typography>\n          {props.item.author || props.item.creator ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>{props.item.feed.title} by {props.item.author || props.item.creator}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{props.item.feed.title}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>}\n          {/* {props.item.categories.length > 0 ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {props.item.categories.join(', ')}</Typography>\n          ) : <></>} */}\n          <ButtonGroup className={classes.toolbar}>\n            <Tooltip title=\"Read later\">\n              {props.starred ?\n              (\n                <Button\n                  aria-label=\"read later\"\n                  onClick={() => props.handleUnstarItem(props.item._id)}\n                >\n                  <TurnedInIcon />\n                </Button>\n              ) :\n              (\n                <Button \n                  aria-label=\"read later\"\n                  onClick={() => props.handleStarItem(props.item._id)}\n                >\n                  <TurnedInNotIcon />\n                </Button>\n              )}\n            </Tooltip>\n            <Button><MoreHorizIcon /></Button>\n          </ButtonGroup>\n          {props.item['content:encoded'] || props.item.content ? \n          (\n            <Typography variant=\"body1\" paragraph dangerouslySetInnerHTML={{__html: DOMPurify.sanitize(props.item['content:encoded'] || props.item.content)}} />\n          ) : <></>}\n          {props.unread ?\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n              onClick={() => props.handleMarkRead(props.item._id)}\n            >\n              Visit Website\n            </Button>\n            :\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n            >\n              Visit Website\n            </Button>\n          }\n        </Container>\n      </Collapse>\n      <Divider />\n    </>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { getFeed, getFeedItems, getStarred, starItem, unstarItem, markRead, unmarkRead, markFeedRead, getUnread } from '../services/feeds';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport ReadLaterItem from './ReadLaterItem';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport Container from '@material-ui/core/Container';\nimport DoneIcon from '@material-ui/icons/Done';\nimport IconButton from '@material-ui/core/IconButton';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\nimport Badge from '@material-ui/core/Badge';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  feedDetails: {\n    paddingTop: theme.spacing(2),\n    maxWidth: '100%',\n  },\n  feedHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n  },\n  feedToolbar: {\n    display: 'flex',\n  },\n  feedList: {\n    padding: 0,\n  },\n}));\n\nexport default function ReadLater(props) {\n  \n  const classes = useStyles();\n\n  const [feed, setFeed] = useState(null);\n  const [starredItems, setStarredItems] = useState(null);\n  const [unreadItems, setUnreadItems] = useState(null);\n  const [loadedItems, setLoadedItems] = useState(null);\n  const [hasMore, setHasMore] = useState(true);\n\n  const loadMoreItems = () => {\n    getFeedItems(props.id, props.searchQuery, loadedItems.length, props.itemPerPage)\n      .then(newLoadedItems => {\n        if (newLoadedItems.length === 0) setHasMore(false);\n        else setLoadedItems(loadedItems.concat(newLoadedItems));\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleStarItem = (id) => {\n    starItem(id)\n      .then(items => {\n        if (items.message) console.log(items.message);\n        else setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnstarItem = (id) => {\n    unstarItem(id)\n      .then(items => {\n        setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkRead = (id) => {\n    markRead(id)\n      .then(response => {\n        if (response.message) console.log(response.message);\n        else {\n          getUnread(props.id)\n            .then(fetchedUnreadItems => {\n              setUnreadItems(fetchedUnreadItems);\n            })\n            .catch(err => {\n              console.log(err);\n            })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkFeedRead = () => {\n    markFeedRead(props.id)\n      .then(response => {\n        setUnreadItems(response);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnmarkRead = (id) => {\n    unmarkRead(id)\n      .then(() => {\n        getUnread(props.id)\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleRefresh = () => {\n    props.setTitle(props.title)\n    setLoadedItems(null);\n    setHasMore(true);\n    getFeed(props.id, props.searchQuery)\n      .then(fetchedFeed => {\n        setFeed(fetchedFeed);\n        getUnread(props.id)\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n            getStarred()\n              .then(fetchedStarredItems => {\n                setStarredItems(fetchedStarredItems);\n                getFeedItems(props.id, props.searchQuery, 0, props.itemPerPage)\n                  .then(feedItems => {\n                    setLoadedItems(feedItems);\n                  })\n                  .catch(err => {\n                    console.log(err);\n                  })\n              })\n              .catch(err => {\n                console.log(err);\n              })\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  useEffect(() => {\n    handleRefresh();\n  }, [props.title, props.searchQuery])\n\n  if (!loadedItems) return <LinearProgress />\n  if (loadedItems.length === 0) return <></>\n\n  return (\n    <div className={classes.root}>\n      <Container component=\"div\" className={classes.feedDetails}>\n        <div className={classes.feedHeader}>\n          <Typography variant=\"h4\">\n            {props.title}\n          </Typography>\n          <div className={classes.feedToolbar}>\n            {(unreadItems.length) === 0 ?\n              <Tooltip title=\"All Read\">\n                <IconButton>\n                  <DoneAllIcon/>\n                </IconButton>\n              </Tooltip>\n              :\n              <Tooltip title=\"Mark as Read\">\n                <Badge\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'left',\n                  }}\n                  badgeContent={unreadItems.length}\n                  color=\"primary\"\n                  overlap=\"circle\"\n                  max={999}\n                >\n                  <IconButton onClick={() => handleMarkFeedRead()}>\n                    <DoneIcon/>\n                  </IconButton>\n                </Badge>\n              </Tooltip>\n            }\n            <Tooltip title=\"Refresh\">\n              <IconButton onClick={() => handleRefresh()}>\n                <RefreshIcon/>\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"More options\">\n              <IconButton>\n                <MoreHorizIcon/>\n              </IconButton>\n            </Tooltip>\n          </div>\n        </div>\n          {feed.description ? \n          (\n            <Typography variant=\"subtitle1\">{feed.description}</Typography>\n          ) : <></>}\n          {feed.category ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {feed.category.join(', ')}, {feed.feedItems} articles</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{feed.feedItems} articles</Typography>}\n      </Container>\n      <Divider />\n      <List className={classes.feedList}>\n        <InfiniteScroll\n          dataLength={loadedItems.length}\n          next={loadMoreItems}\n          hasMore={hasMore}\n          loader={<LinearProgress />}\n          scrollableTarget=\"content\"\n        >\n          {loadedItems.map(item => {\n            return (\n              <ReadLaterItem\n                key={item._id}\n                feedTitle={item.feed.title}\n                item={item}\n                handleStarItem={handleStarItem}\n                handleUnstarItem={handleUnstarItem}\n                starred={starredItems.includes(item._id)}\n                handleMarkRead={handleMarkRead}\n                handleUnmarkRead={handleUnmarkRead}\n                unread={unreadItems.includes(item._id)}\n                {...props}\n              />\n            )\n          })}\n        </InfiniteScroll>\n      </List>\n    </div>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Zoom from '@material-ui/core/Zoom';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(4),\n  },\n}));\n\nexport default function ScrollTop(props) {\n  \n  const classes = useStyles();\n\n  const trigger = useScrollTrigger({\n    target: props.contentRef.current,\n    disableHysteresis: true,\n    threshold: 100,\n  });\n\n  const handleClick = (event) => {\n    const anchor = (event.target.ownerDocument || document).querySelector('#back-to-top-anchor');\n    if (anchor) {\n      anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    }\n  };\n\n  return (\n    <Zoom in={trigger}>\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\n        {props.children}\n      </div>\n    </Zoom>\n  );\n}","import React from 'react';\nimport { signout } from '../services/auth';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Avatar from '@material-ui/core/Avatar';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nexport default function OptionsMenu(props) {\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleSignout = () => {\n    signout()\n      .then(() => {\n        props.setUser(null);\n        props.history.push('/signin');\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Account\">\n        <IconButton\n          edge=\"end\"\n          onClick={handleMenuOpen}\n          color=\"inherit\"\n        >\n          <Avatar src={\" \"} alt={props.user.username} />\n        </IconButton>\n      </Tooltip>\n\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n        id='account-menu'\n        keepMounted\n        transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={Boolean(anchorEl)}\n        onClose={handleMenuClose}\n      >\n        <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\n        <MenuItem onClick={handleSignout}>Sign Out</MenuItem>\n      </Menu>\n    </>\n  );\n}","import axios from 'axios';\n\nconst signup = (username, password) => {\n  return axios.post('/api/auth/signup', { username, password })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst signin = (username, password) => {\n  return axios.post('/api/auth/login', { username, password })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst signout = () => {\n  return axios.delete('/api/auth/logout')\n    .then(response => {\n      return response.data\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nexport { signup, signin, signout };","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { getUserFeeds } from '../services/feeds';\nimport clsx from 'clsx';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Welcome from './Welcome';\nimport Feed from './Feed';\nimport FeedList from './FeedList';\nimport ReadLater from './ReadLater';\nimport ScrollTop from './ScrollTop';\nimport AccountMenu from './AccountMenu';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useThemeSwitcher } from \"mui-theme-switcher\";\nimport WbSunnyIcon from '@material-ui/icons/WbSunny';\nimport Brightness3Icon from '@material-ui/icons/Brightness3';\nimport Fab from '@material-ui/core/Fab';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\n\nconst drawerWidth = 300;\nconst itemPerPage = 40;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    height: '100vh',\n    overflow: 'auto',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    '&::-webkit-scrollbar': {\n      width: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: theme.palette.primary.main,\n      borderRadius: '2px',\n    }\n  },\n  drawerPaperClose: {\n    height: '100vh',\n    overflow: 'auto',\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n    '&::-webkit-scrollbar': {\n      width: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: theme.palette.primary.main,\n      borderRadius: '2px',\n    }\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n    '&::-webkit-scrollbar': {\n      width: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: theme.palette.primary.main,\n      borderRadius: '2px',\n    }\n  },\n  container: {\n    padding: 0,\n    maxWidth: '100%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    marginRight: theme.spacing(1),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '12ch',\n      '&:focus': {\n        width: '20ch',\n      },\n    },\n  },\n}));\n\nexport default function Reader(props) {\n  const classes = useStyles();\n  const { dark, toggleDark } = useThemeSwitcher();\n  const [open, setOpen] = useState(false);\n  const [title, setTitle] = useState('Paperboy');\n  const [userFeeds, setUserFeeds] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const contentRef = React.useRef();\n\n  const handleDrawerOpen = () => {\n    if (open) setOpen(false);\n    if (!open) setOpen(true);\n  };\n\n  const search = e => {\n    setSearchQuery(e.target.value);\n  }\n\n  const updateUserFeeds = () => {\n    getUserFeeds()\n      .then(fetchedFeeds => {\n        setUserFeeds(fetchedFeeds);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  useEffect(() => {\n    updateUserFeeds()\n  }, [])\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            onClick={handleDrawerOpen}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\n            {title}\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Search\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              value={searchQuery}\n              onChange={search}\n            />\n          </div>\n          <Tooltip title=\"Toggle dark mode\">\n            <IconButton onClick={toggleDark} color=\"inherit\">\n              {dark ? <WbSunnyIcon /> : <Brightness3Icon />}\n            </IconButton>\n          </Tooltip>\n          <AccountMenu {...props} />\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n      >\n        <Toolbar />\n        <FeedList userFeeds={userFeeds} setUserFeeds={setUserFeeds} updateUserFeeds={updateUserFeeds} />\n        <Divider />\n      </Drawer>\n      <main id=\"content\" className={classes.content}  ref={contentRef}>\n        <Toolbar id=\"back-to-top-anchor\"/>\n        <Container className={classes.container}>\n\n          <Switch>\n            <Route\n              exact path={'/all'}\n              render={props => {\n                return <ReadLater setTitle={setTitle} id={'all'} title={'All feeds'} searchQuery={searchQuery} itemPerPage={itemPerPage} {...props} />\n              }}\n            />\n            <Route\n              exact path={'/read-later'}\n              render={props => {\n                return <ReadLater setTitle={setTitle} id={'starred'} title={'Read later'} searchQuery={searchQuery} itemPerPage={itemPerPage} {...props} />\n              }}\n            />\n            <Route\n              exact path={'/:id'}\n              render={props => {\n                return <Feed setTitle={setTitle} setUserFeeds={setUserFeeds} searchQuery={searchQuery} itemPerPage={itemPerPage} {...props} />\n              }}\n            />\n            <Route\n              exact path={'/'}\n              render={props => {\n                return <Welcome setTitle={setTitle} userFeeds={userFeeds} user={props.user} {...props} />\n              }}\n            />\n          </Switch>\n\n          <ScrollTop contentRef={contentRef} {...props}>\n            <Fab color=\"primary\" size=\"small\">\n              <KeyboardArrowUpIcon />\n            </Fab>\n          </ScrollTop>\n\n        </Container>\n      </main>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { signin } from '../services/auth';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    backgroundImage: 'url(https://images.unsplash.com/photo-1541613569553-332a2574a508)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-end',\n  },\n  card: {\n    margin: theme.spacing(16,4),\n  },\n  welcome: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-end',\n  },\n  heading: {\n    marginBottom: theme.spacing(1),\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignIn(props) {\n\n  const classes = useStyles();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [usernameError, setUsernameError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    signin(username, password)\n      .then(response => {\n        if (response.usernameError) {\n          setUsernameError(response.usernameError);\n          setPasswordError('');\n        } else if (response.passwordError) {\n          setUsernameError('');\n          setPasswordError(response.passwordError);\n        } else {\n          props.setUser(response);\n          props.history.push('/');\n        }\n      })\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image}>\n          <Card className={classes.card}>\n            <CardContent>\n              <div className={classes.welcome}>\n                <Typography component=\"h1\" variant=\"h5\">\n                  Welcome to\n                </Typography>\n                <Typography component=\"h1\" variant=\"h2\" className={classes.heading}>\n                  Paperboy\n                </Typography>\n                <Typography component=\"h1\" variant=\"h4\" className={classes.heading}>\n                  News feed reader and aggreagtor\n                </Typography>            \n              </div>\n            </CardContent>\n          </Card>\n      </Grid>\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} onSubmit={handleSubmit} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              value={username}\n              onChange={e => setUsername(e.target.value)}\n              error={!!usernameError}\n              helperText={usernameError}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={password}\n              onChange={e => setPassword(e.target.value)}\n              error={!!passwordError}\n              helperText={passwordError}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item>\n                <Link component={RouterLink} to=\"/signup\" variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}","import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { signup } from '../services/auth';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignUp(props) {\n\n  const classes = useStyles();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [usernameError, setUsernameError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [confirmError, setConfirmError] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (password === confirm) {\n      signup(username, password)\n        .then(response => {\n          if (response.usernameError) {\n            setUsernameError(response.usernameError);\n            setPasswordError('');\n          } else if (response.passwordError) {\n            setUsernameError('');\n            setPasswordError(response.passwordError);\n          } else {\n            props.setUser(response);\n            props.history.push('/');\n          }\n        })\n    } else {\n      setConfirmError('Passwords do not match')\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"username\"\n                label=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={e => setUsername(e.target.value)}\n                error={!!usernameError}\n                helperText={usernameError}\n                autoFocus\n                // autoComplete=\"username\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n            <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                error={!!passwordError}\n                helperText={passwordError}\n                // autoComplete=\"new-password\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"confirm\"\n                label=\"Confirm\"\n                type=\"password\"\n                id=\"confirm\"\n                value={confirm}\n                onChange={e => setConfirm(e.target.value)}\n                error={!!confirmError}\n                helperText={confirmError}\n                // autoComplete=\"new-password\"\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign Up\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link component={RouterLink} to=\"/signin\" variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n}","import React from 'react';\nimport '@fontsource/roboto';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { Route, Redirect } from 'react-router-dom';\nimport Reader from './components/Reader';\nimport SignIn from './components/SignIn';\nimport SignUp from './components/SignUp';\n\nfunction App(props) {\n\n  const [user, setUser] = React.useState(props.user);\n\n  return (\n    <>\n      <CssBaseline/>\n      <Route\n        path='/'\n        render={props => {\n          if (user) {\n            return <Reader setUser={setUser} user={user} {...props} />\n          } else return <Redirect to='/signin' />\n        }}\n      />\n      <Route\n        exact path=\"/signin\"\n        render={props => <SignIn setUser={setUser} {...props} />}\n      />\n      <Route\n        exact path=\"/signup\"\n        render={props => <SignUp setUser={setUser} {...props} />}\n      />\n    </>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport axios from 'axios';\nimport { createMuiTheme } from \"@material-ui/core\";\nimport { ThemeSwitcherProvider } from \"mui-theme-switcher\";\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nconst lightTheme = createMuiTheme({\n  palette: {\n    type: \"light\",\n    primary: {\n      main: '#2e7d59',\n    },\n  }\n});\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n    primary: {\n      main: '#2e7d59',\n    },\n  }\n});\n\naxios.get('/api/auth/loggedin')\n  .then(response => {\n    const user = response.data;\n    ReactDOM.render(\n      <ThemeSwitcherProvider\n        lightTheme={lightTheme}\n        darkTheme={darkTheme}\n        followSystem=\"true\"\n        persist=\"true\"\n        appId=\"paperboy\"\n      >     \n        <BrowserRouter>\n          <App id=\"paperboy\" user={user} />\n        </BrowserRouter>\n      </ThemeSwitcherProvider>,\n      document.getElementById('root')\n    );\n  })\n  .catch(err => {\n    console.log(err)\n  })\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}