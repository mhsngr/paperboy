{"version":3,"sources":["services/feeds.js","components/Welcome.js","components/FeedItem.js","components/OptionsMenu.js","components/Feed.js","components/AddFeed.js","components/FeedList.js","components/ReadLaterItem.js","components/ReadLater.js","components/ScrollTop.js","components/AccountMenu.js","services/auth.js","components/Reader.js","components/SignIn.js","components/SignUp.js","App.js","reportWebVitals.js","index.js"],"names":["getFeed","id","query","axios","get","then","response","data","catch","err","getFeedItems","skip","limit","getIcon","link","url","URL","hostname","getAge","date","age","Date","now","Math","floor","starItem","put","starred","unstarItem","getStarred","markRead","unread","unmarkRead","markFeedRead","getUnread","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","welcome","paddingTop","spacing","maxWidth","heading","paddingBottom","addNew","Feed","props","classes","useEffect","setTitle","className","Container","component","Typography","variant","userFeeds","length","feedItem","padding","feedItemHeading","feedHeader","display","justifyContent","alignItems","itemTitle","overflow","whiteSpace","textOverflow","toolbar","highlight","color","primary","main","FeedItem","useState","open","setOpen","handleClick","ListItem","dense","onClick","ListItemText","Tooltip","title","IconButton","size","handleMarkRead","item","_id","button","ListItemIcon","handleUnstarItem","fontSize","handleStarItem","highlightClassName","searchWords","searchQuery","autoEscape","textToHighlight","isoDate","Collapse","in","timeout","unmountOnExit","Link","href","target","rel","underline","author","creator","paragraph","feedTitle","toLocaleString","handleUnmarkRead","categories","join","ButtonGroup","Button","aria-label","content","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","fullWidth","Divider","OptionsMenu","React","anchorEl","setAnchorEl","handleDialogClose","event","currentTarget","getContentAnchorEl","keepMounted","anchorOrigin","vertical","horizontal","transformOrigin","Boolean","onClose","MenuItem","Dialog","DialogTitle","DialogContent","DialogContentText","feed","DialogActions","autoFocus","delete","updatedFeeds","setUserFeeds","history","push","console","log","feedDetails","feedToolbar","feedList","setFeed","starredItems","setStarredItems","unreadItems","setUnreadItems","loadedItems","setLoadedItems","hasMore","setHasMore","items","message","fetchedUnreadItems","handleRefresh","match","params","fetchedFeed","fetchedStarredItems","itemPerPage","feedItems","Badge","badgeContent","overlap","max","description","category","List","dataLength","next","newLoadedItems","concat","loader","LinearProgress","scrollableTarget","map","includes","appBar","position","search","borderRadius","shape","fade","common","white","marginRight","marginLeft","breakpoints","up","searchIcon","height","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","menuButton","Transition","forwardRef","ref","Slide","direction","AddFeed","loading","setLoading","feeds","setFeeds","filteredFeeds","setFilteredFeeds","feedUrl","setFeedUrl","setMessage","searchRef","useRef","useHistory","handleClickOpen","allFeeds","handleClose","handleAddFeed","current","post","updateUserFeeds","placement","edge","fullScreen","TransitionComponent","AppBar","Toolbar","InputBase","placeholder","input","value","onChange","e","filtered","filter","toLowerCase","autofocus","disabled","Popover","Alert","severity","Avatar","src","alt","FeedList","NavLink","to","activeClassName","ListItemAvatar","itemHeader","itemInfo","itemFeed","textAlign","itemAge","ReadLater","bottom","right","ScrollTop","trigger","useScrollTrigger","contentRef","disableHysteresis","threshold","Zoom","anchor","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","children","handleMenuClose","user","username","setUser","zIndex","drawer","menuButtonHidden","flexGrow","drawerPaper","easing","sharp","duration","enteringScreen","drawerPaperClose","overflowX","leavingScreen","appBarSpacer","mixins","container","flexDirection","Reader","useThemeSwitcher","dark","toggleDark","setSearchQuery","fetchedFeeds","CssBaseline","noWrap","Drawer","clsx","exact","path","render","Fab","image","backgroundImage","backgroundRepeat","type","grey","backgroundSize","backgroundPosition","card","margin","marginBottom","avatar","secondary","form","marginTop","submit","SignIn","setUsername","password","setPassword","usernameError","setUsernameError","passwordError","setPasswordError","Grid","xs","sm","md","Card","CardContent","Paper","elevation","square","onSubmit","preventDefault","signin","noValidate","TextField","required","label","name","autoComplete","error","helperText","RouterLink","SignUp","confirm","setConfirm","confirmError","setConfirmError","signup","justify","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","lightTheme","createMuiTheme","darkTheme","ReactDOM","followSystem","persist","appId","getElementById"],"mappings":"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","file":"static/js/main.cfe706d6.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst addFeed = (url) => {\n  return axios.post('/api/feeds', { url })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst getFeed = (id, query = '') => {\n  return axios.get(`/api/feeds?id=${id}&q=${query}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getFeedItems = (id, query, skip, limit) => {\n  return axios.get(`/api/feeds?id=${id}&q=${query}&skip=${skip}&limit=${limit}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getUserFeeds = () => {\n  return axios.get('/api/feeds')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getAllFeeds = () => {\n  return axios.get('/api/feeds/all')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst getIcon = (link) => {\n  const url = new URL(link);\n  return `https://logo.clearbit.com/${url.hostname}`\n}\n\nconst getAge = (date) => {\n  const age = Date.now() - new Date(date);\n  if (Math.floor(age / (1000 * 60 * 60 * 24 * 365 )) > 0) return `${Math.floor(age / (1000 * 60 * 60 * 24 * 365 ))}y`;\n  if (Math.floor(age / (1000 * 60 * 60 * 24 * 7 ))) return `${Math.floor(age / (1000 * 60 * 60 * 24 * 7 ))}w`;\n  if (Math.floor(age / (1000 * 60 * 60 * 24 ))) return `${Math.floor(age / (1000 * 60 * 60 * 24))}d`;\n  if (Math.floor(age / (1000 * 60 * 60 ))) return `${Math.floor(age / (1000 * 60 * 60))}h`;\n  if (Math.floor(age / (1000 * 60))) return `${Math.floor(age / (1000 * 60))}min`;\n  if (Math.floor(age / (1000))) return `${Math.floor(age / (1000))}s`;\n}\n\nconst starItem = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { starred: true })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst unstarItem = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { starred: false })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst getStarred = () => {\n  return axios.get('/api/feeds/starred')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nconst markRead = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { unread: false })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst unmarkRead = (id) => {\n  return axios.put(`/api/feeds/item/${id}`, { unread: true })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst markFeedRead = (id) => {\n  return axios.put(`/api/feeds?id=${id}&unread=${false}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst getUnread = (id) => {\n  return axios.get(`/api/feeds?id=${id}&unread=${true}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\n// const getAllRead = () => {\n//   return axios.get('/api/feeds/read')\n//     .then(response => {\n//       return response.data;\n//     })\n//     .catch(err => {\n//       return err;\n//     })\n// }\n\n// const getReadStarred = () => {\n//   return axios.get('/api/feeds/read-starred')\n//     .then(response => {\n//       return response.data;\n//     })\n//     .catch(err => {\n//       return err;\n//     })\n// }\n\n// const getReadLater = (id) => {\n//   return axios.get('/api/feeds/read-later')\n//     .then(response => {\n//       return response.data;\n//     })\n//     .catch(err => {\n//       return err;\n//     })\n// }\n\nconst unfollowFeed = (id) => {\n  return axios.delete(`/api/feeds?id=${id}`)\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err;\n    })\n}\n\nexport { addFeed, getFeed, getFeedItems, getUserFeeds, getAllFeeds, getIcon, getAge, starItem, unstarItem, getStarred, markRead, unmarkRead, markFeedRead, getUnread, unfollowFeed };","import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  welcome: {\n    paddingTop: theme.spacing(2),\n    maxWidth: '100%',\n  },\n  heading: {\n    paddingBottom: theme.spacing(1),\n  },\n  addNew: {\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n  },\n\n}));\n\nexport default function Feed(props) {\n  \n  const classes = useStyles();\n  \n  useEffect(() => {\n    props.setTitle('Paperboy');\n  }, [])\n\n  return (\n    <div className={classes.root}>\n      <Container component=\"div\" className={classes.welcome}>\n        <Typography variant=\"h3\" className={classes.heading}>\n          Welcome to Paperboy\n        </Typography>\n        {props.userFeeds.length ?\n          <></>\n          :\n          <>\n          <Typography variant=\"h4\">\n            You follow no feeds yet\n          </Typography>\n          <Typography variant=\"h4\" className={classes.addNew}>\n            <ArrowBackIcon /> Click to add new feed\n          </Typography>\n          </>\n        }\n      </Container>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getAge } from '../services/feeds';\nimport Container from '@material-ui/core/Container';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport TurnedInIcon from '@material-ui/icons/TurnedIn';\nimport TurnedInNotIcon from '@material-ui/icons/TurnedInNot';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Link from '@material-ui/core/Link';\nimport DOMPurify from 'dompurify';\nimport DoneIcon from '@material-ui/icons/Done';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport Highlighter from \"react-highlight-words\";\n\nconst useStyles = makeStyles((theme) => ({\n  feedItem: {\n    padding: theme.spacing(0,9,3,9),\n  },\n  feedItemHeading: {\n    paddingBottom: theme.spacing(1),\n  },\n  feedHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  itemTitle: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  toolbar: {\n    paddingBottom: theme.spacing(2),\n  },\n  highlight: {\n    color: 'inherit',\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nexport default function FeedItem(props) {\n\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <>\n      {open ? (\n        <ListItem dense onClick={handleClick}>\n          <ListItemText />\n          {props.unread ?\n            <Tooltip title=\"Mark read\">\n              <IconButton size=\"small\" onClick={() => props.handleMarkRead(props.item._id)}>\n                <DoneIcon />\n              </IconButton>\n            </Tooltip>\n            :\n            <Tooltip title=\"Close\">\n              <IconButton size=\"small\">\n                <CloseIcon />\n              </IconButton>\n            </Tooltip>\n          }\n        </ListItem>\n      ) : (\n        <ListItem button dense>\n          <ListItemIcon>\n            <Tooltip title=\"Read later\">\n            {props.starred ?\n            (\n              <IconButton\n                size=\"small\"\n                onClick={() => props.handleUnstarItem(props.item._id)}\n              >\n                <TurnedInIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            ) :\n            (\n              <IconButton \n                size=\"small\"\n                onClick={() => props.handleStarItem(props.item._id)}\n              >\n                <TurnedInNotIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            )}\n            </Tooltip>\n          </ListItemIcon>\n          <ListItemText\n            onClick={handleClick}\n            primary={\n              <div className={classes.feedHeader}>\n                <Typography className={classes.itemTitle} color={props.unread ? 'textPrimary' : 'textSecondary' }>\n                  <Highlighter\n                    highlightClassName={classes.highlight}\n                    searchWords={[props.searchQuery]}\n                    autoEscape={true}\n                    textToHighlight={props.item.title}\n                  />\n                </Typography>\n                <Typography variant=\"caption\" color={props.unread ? 'textPrimary' : 'textSecondary' }>{getAge(props.item.isoDate)}</Typography>\n              </div>\n            }\n          />\n        </ListItem>\n      )}\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <Container component=\"div\" className={classes.feedItem}>\n          <Typography variant=\"h5\" color={props.unread ? 'textPrimary' : 'textSecondary' } className={classes.feedItemHeading}>\n            {props.unread ?\n            <Link\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              color=\"inherit\"\n              underline=\"none\"\n              onClick={() => props.handleMarkRead(props.item._id)}\n            >\n              <Highlighter\n                highlightClassName={classes.highlight}\n                searchWords={[props.searchQuery]}\n                autoEscape={true}\n                textToHighlight={props.item.title}\n              />\n            </Link>\n            :\n            <Link\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              color=\"inherit\"\n              underline=\"none\"\n            >\n              <Highlighter\n                highlightClassName={classes.highlight}\n                searchWords={[props.searchQuery]}\n                autoEscape={true}\n                textToHighlight={props.item.title}\n              />\n            </Link>\n            }\n          </Typography>\n          {props.item.author || props.item.creator ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>{props.feedTitle} by {props.item.author || props.item.creator}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{props.feedTitle}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>}\n          {props.item.categories.length > 0 ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {props.item.categories.join(', ')}</Typography>\n          ) : <></>}\n          <ButtonGroup className={classes.toolbar}>\n            <Tooltip title=\"Read later\">\n              {props.starred ?\n              (\n                <Button\n                  aria-label=\"read later\"\n                  onClick={() => props.handleUnstarItem(props.item._id)}\n                >\n                  <TurnedInIcon />\n                </Button>\n              ) :\n              (\n                <Button \n                  aria-label=\"read later\"\n                  onClick={() => props.handleStarItem(props.item._id)}\n                >\n                  <TurnedInNotIcon />\n                </Button>\n              )}\n            </Tooltip>\n            <Button><MoreHorizIcon /></Button>\n          </ButtonGroup>\n          {props.item['content:encoded'] || props.item.content ? \n          (\n            <Typography variant=\"body1\" paragraph dangerouslySetInnerHTML={{__html: DOMPurify.sanitize(props.item['content:encoded'] || props.item.content)}} />\n          ) : <></>}\n          {props.unread ?\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n              onClick={() => props.handleMarkRead(props.item._id)}\n            >\n              Visit Website\n            </Button>\n            :\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n            >\n              Visit Website\n            </Button>\n          }\n        </Container>\n      </Collapse>\n      <Divider />\n    </>\n  );\n}","import React from 'react';\nimport { unfollowFeed } from '../services/feeds';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\n\nexport default function OptionsMenu(props) {\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [open, setOpen] = React.useState(false);\n\n  const handleMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleDialogOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDialogClose = () => {\n    setOpen(false);\n    setAnchorEl(null);\n  };\n\n  const handleUnfollow = () => {\n    unfollowFeed(props.feed._id)\n      .then(updatedFeeds => {\n        handleDialogClose();\n        props.setUserFeeds(updatedFeeds);\n        props.setTitle('Paperboy');\n        props.history.push('/');\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  return (\n    <>\n      <Tooltip title=\"More options\">\n        <IconButton onClick={handleMenuOpen}>\n          <MoreHorizIcon/>\n        </IconButton>\n      </Tooltip>\n\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        keepMounted\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n        transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={Boolean(anchorEl)}\n        onClose={handleMenuClose}\n      >\n        <MenuItem dense onClick={handleDialogOpen}>\n          <ListItemIcon>\n            <DeleteIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>\n            Unfollow\n          </ListItemText>\n        </MenuItem>\n      </Menu>\n      <Dialog\n        open={open}\n        onClose={handleDialogClose}\n      >\n        <DialogTitle>Unfollow feed</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Do you really want to unfollow this feed?<br/>\n            {props.feed.title}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleDialogClose} color=\"primary\" autoFocus>\n            Dismiss\n          </Button>\n          <Button onClick={handleUnfollow} color=\"secondary\">\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { getFeed, getFeedItems, getStarred, starItem, unstarItem, markRead, unmarkRead, markFeedRead, getUnread } from '../services/feeds';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport FeedItem from './FeedItem';\nimport OptionsMenu from './OptionsMenu';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport Link from '@material-ui/core/Link';\nimport Divider from '@material-ui/core/Divider';\nimport Container from '@material-ui/core/Container';\nimport DoneIcon from '@material-ui/icons/Done';\nimport IconButton from '@material-ui/core/IconButton';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\nimport Badge from '@material-ui/core/Badge';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  feedDetails: {\n    paddingTop: theme.spacing(2),\n    maxWidth: '100%',\n  },\n  feedHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n  },\n  feedToolbar: {\n    display: 'flex',\n  },\n  feedList: {\n    padding: 0,\n  },\n}));\n\nexport default function Feed(props) {\n  \n  const classes = useStyles();\n\n  const [feed, setFeed] = useState(null);\n  const [starredItems, setStarredItems] = useState(null);\n  const [unreadItems, setUnreadItems] = useState(null);\n  const [loadedItems, setLoadedItems] = useState(null);\n  const [hasMore, setHasMore] = useState(true);\n\n  const loadMoreItems = () => {\n    getFeedItems(feed._id, props.searchQuery, loadedItems.length , props.itemPerPage)\n      .then(newLoadedItems => {\n        if (newLoadedItems.length === 0) setHasMore(false);\n        else setLoadedItems(loadedItems.concat(newLoadedItems));\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleStarItem = (id) => {\n    starItem(id)\n      .then(items => {\n        if (items.message) console.log(items.message);\n        else setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnstarItem = (id) => {\n    unstarItem(id)\n      .then(items => {\n        setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkRead = (id) => {\n    markRead(id)\n      .then(response => {\n        if (response.message) console.log(response.message);\n        else {\n          getUnread(feed._id)\n            .then(fetchedUnreadItems => {\n              setUnreadItems(fetchedUnreadItems);\n            })\n            .catch(err => {\n              console.log(err);\n            })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkFeedRead = () => {\n    markFeedRead(feed._id)\n      .then(response => {\n        setUnreadItems(response);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnmarkRead = (id) => {\n    unmarkRead(id)\n      .then(() => {\n        getUnread(feed._id)\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleRefresh = () => {\n    setLoadedItems(null);\n    setHasMore(true);\n    getFeed(props.match.params.id, props.searchQuery)\n      .then(fetchedFeed => {\n        setFeed(fetchedFeed);\n        props.setTitle(fetchedFeed.title)\n        getUnread(fetchedFeed._id)\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n            getStarred()\n              .then(fetchedStarredItems => {\n                setStarredItems(fetchedStarredItems);\n                getFeedItems(fetchedFeed._id, props.searchQuery, 0, props.itemPerPage)\n                  .then(feedItems => {\n                    setLoadedItems(feedItems);\n                  })\n                  .catch(err => {\n                    console.log(err);\n                  })\n              })\n              .catch(err => {\n                console.log(err);\n              })\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  useEffect(() => {\n    handleRefresh();\n  }, [props.match.params.id, props.searchQuery])\n\n  if (!loadedItems) return <LinearProgress />\n\n  return (\n    <div id=\"feed\" className={classes.root}>\n      <Container component=\"div\" className={classes.feedDetails}>\n        <div className={classes.feedHeader}>\n          <Typography variant=\"h4\">\n            <Link\n              href={feed.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              color=\"inherit\"\n              underline=\"none\"\n            >\n              {feed.title}\n            </Link>\n          </Typography>\n          <div className={classes.feedToolbar}>\n            {(unreadItems.length) === 0 ?\n              <Tooltip title=\"All Read\">\n                <IconButton>\n                  <DoneAllIcon/>\n                </IconButton>\n              </Tooltip>\n              :\n              <Tooltip title=\"Mark as Read\">\n                <Badge\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'left',\n                  }}\n                  badgeContent={unreadItems.length}\n                  color=\"primary\"\n                  overlap=\"circle\"\n                  max={999}\n                >\n                  <IconButton onClick={() => handleMarkFeedRead()}>\n                    <DoneIcon/>\n                  </IconButton>\n                </Badge>\n              </Tooltip>\n            }\n            <Tooltip title=\"Refresh\">\n              <IconButton onClick={() => handleRefresh()}>\n                <RefreshIcon/>\n              </IconButton>\n            </Tooltip>\n            <OptionsMenu feed={feed} history={props.history} setUserFeeds={props.setUserFeeds}{...props} />\n          </div>\n        </div>\n          {feed.description ? \n          (\n            <Typography variant=\"subtitle1\">{feed.description}</Typography>\n          ) : <></>}\n          {feed.category ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {feed.category.join(', ')}, {feed.feedItems} articles</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{feed.feedItems} articles</Typography>}\n      </Container>\n      <Divider />\n      <List className={classes.feedList}>\n        <InfiniteScroll\n          dataLength={loadedItems.length}\n          next={loadMoreItems}\n          hasMore={hasMore}\n          loader={<LinearProgress />}\n          scrollableTarget=\"content\"\n        >\n          {loadedItems.map(item => {\n            return (\n              <FeedItem\n                key={item._id}\n                feedTitle={feed.title}\n                item={item}\n                handleStarItem={handleStarItem}\n                handleUnstarItem={handleUnstarItem}\n                starred={starredItems.includes(item._id)}\n                handleMarkRead={handleMarkRead}\n                handleUnmarkRead={handleUnmarkRead}\n                unread={unreadItems.includes(item._id)}\n                {...props}\n              />\n            )\n          })}\n        </InfiniteScroll>\n      </List>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport { addFeed, getAllFeeds, getIcon } from '../services/feeds';\nimport Dialog from '@material-ui/core/Dialog';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport Avatar from '@material-ui/core/Avatar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddIcon from '@material-ui/icons/Add';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Popover from '@material-ui/core/Popover';\nimport Alert from '@material-ui/lab/Alert';\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: 'relative',\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: '100%',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    // [theme.breakpoints.up('md')]: {\n    //   width: '20ch',\n    // },\n  },\n  menuButton: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function AddFeed(props) {\n\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [feeds, setFeeds] = useState(null);\n  const [filteredFeeds, setFilteredFeeds] = useState(null);\n  const [feedUrl, setFeedUrl] = useState('');\n  const [message, setMessage] = useState('');\n  const [anchorEl, setAnchorEl] = useState(null);\n  const searchRef = React.useRef();\n  let history = useHistory();\n\n  const handleClickOpen = () => {\n    setOpen(true);\n    setLoading(true);\n    setFeedUrl('');\n    getAllFeeds()\n      .then(allFeeds => {\n        setLoading(false);\n        setFeeds(allFeeds);\n        setFilteredFeeds(allFeeds);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setAnchorEl(null);\n    setMessage('');\n  };\n\n  const handleAddFeed = () => {\n    setAnchorEl(searchRef.current);\n    setLoading(true);\n    addFeed(feedUrl)\n      .then(response => {\n        setLoading(false);\n        if (response.message) {\n          setMessage(response.message);\n        }\n        else {\n          setMessage('');\n          setAnchorEl(null);\n          setOpen(false);\n          props.updateUserFeeds();\n          history.push(`/${response._id}`);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  const search = e => {\n    setFeedUrl(e.target.value);\n    const filtered = e.target.value ? feeds.filter(feed => feed.title.toLowerCase().includes(e.target.value.toLowerCase()) || feed.feedUrl.toLowerCase().includes(e.target.value.toLowerCase())) : feeds;\n    setFilteredFeeds(filtered);\n  }\n\n  if (!filteredFeeds) return (\n    <Tooltip title=\"Add new feed\" placement=\"right\">\n      <ListItem button onClick={handleClickOpen}>\n        <ListItemIcon className={classes.menuButton}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n          >\n            <AddIcon/>\n          </IconButton>\n        </ListItemIcon>\n        <ListItemText primary=\"Add new feed\" />\n      </ListItem>\n    </Tooltip>\n  )\n\n  return (\n    <div>\n      <Tooltip title=\"Add new feed\" placement=\"right\">\n        <ListItem button onClick={handleClickOpen}>\n          <ListItemIcon className={classes.menuButton}>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n            >\n              <AddIcon/>\n            </IconButton>\n          </ListItemIcon>\n          <ListItemText primary=\"Add new feed\" />\n        </ListItem>\n      </Tooltip>\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose}>\n              <CloseIcon />\n            </IconButton>\n            <div className={classes.search} ref={searchRef}>\n              <div className={classes.searchIcon}>\n                <SearchIcon />\n              </div>\n              <InputBase\n                placeholder=\"Search or enter URL\"\n                classes={{\n                  root: classes.inputRoot,\n                  input: classes.inputInput,\n                }}\n                // inputProps={{ 'aria-label': 'search' }}\n                value={feedUrl}\n                onChange={search}\n                fullWidth\n                autofocus\n              />\n            </div>\n            {loading ? \n            <IconButton disabled color=\"inherit\" onClick={handleAddFeed}>\n              <AddIcon/>\n            </IconButton>\n            :\n            <IconButton color=\"inherit\" onClick={handleAddFeed}>\n              <AddIcon/>\n            </IconButton>\n            }\n            <Popover\n              id='error-popover'\n              open={!!message}\n              anchorEl={anchorEl}\n              onClose={() => setMessage('')}\n              anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n              }}\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'left',\n              }}\n            >\n              <Alert severity=\"error\">{message}</Alert>\n            </Popover>\n          </Toolbar>\n        </AppBar>\n        {loading ?\n          <LinearProgress />\n          :\n          <List>\n            {filteredFeeds.map(feed => {\n              return (\n                <ListItem button key={feed._id} onClick={() => setFeedUrl(feed.feedUrl)}>\n                  <ListItemIcon>\n                    <Avatar variant=\"rounded\" src={getIcon(feed.link)} alt={feed.title} />\n                  </ListItemIcon>\n                  <ListItemText primary={feed.title} />\n                </ListItem>\n              )\n            })}\n          </List>\n        }\n      </Dialog>\n    </div>\n  );\n}","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { getIcon } from '../services/feeds';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport Avatar from '@material-ui/core/Avatar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddFeed from './AddFeed';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport BookmarksIcon from '@material-ui/icons/Bookmarks';\nimport IconButton from '@material-ui/core/IconButton';\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  feedTitle: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n}));\n\nexport default function FeedList(props) {\n\n  const classes = useStyles();\n\n  // const [feeds, setFeeds] = useState([]);\n\n  // const updateUserFeeds = () => {\n  //   getUserFeeds()\n  //     .then(fetchedFeeds => {\n  //       props.setUserFeeds(fetchedFeeds);\n  //     })\n  //     .catch(err => {\n  //       console.log(err);\n  //     })\n  // }\n\n  // useEffect(() => {\n  //   updateUserFeeds()\n  // }, [])\n\n  if (!props.userFeeds) return <LinearProgress />\n\n  return (\n    <List>\n      <Tooltip title=\"All feeds\" placement=\"right\">\n        <ListItem button component={NavLink} to={`/all`} activeClassName=\"Mui-selected\">\n          <ListItemIcon className={classes.menuButton}>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n            >\n              <LibraryBooksIcon/>\n            </IconButton>\n          </ListItemIcon>\n          <ListItemText primary=\"All feeds\" />\n        </ListItem>\n      </Tooltip>\n      <Tooltip title=\"Read later\" placement=\"right\">\n        <ListItem button component={NavLink} to={`/read-later`} activeClassName=\"Mui-selected\">\n          <ListItemIcon className={classes.menuButton}>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n            >\n              <BookmarksIcon/>\n            </IconButton>\n          </ListItemIcon>\n          <ListItemText primary=\"Read later\" />\n        </ListItem>\n      </Tooltip>\n      {props.userFeeds.map(feed => {\n        return (\n          <Tooltip title={feed.title} key={feed._id} placement=\"right\">\n            <ListItem button component={NavLink} to={`/${feed._id}`} activeClassName=\"Mui-selected\">\n              <ListItemAvatar>\n                <Avatar variant=\"rounded\" src={getIcon(feed.link)} alt={feed.title} />\n              </ListItemAvatar>\n              <ListItemText primary={feed.title} className={classes.feedTitle}/>\n            </ListItem>\n          </Tooltip>\n        )\n      })}\n      <AddFeed updateUserFeeds={() => props.updateUserFeeds()} setUserFeeds={props.setUserFeeds} />\n    </List>\n  )\n}","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getAge } from '../services/feeds';\nimport Container from '@material-ui/core/Container';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport TurnedInIcon from '@material-ui/icons/TurnedIn';\nimport TurnedInNotIcon from '@material-ui/icons/TurnedInNot';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Link from '@material-ui/core/Link';\nimport DOMPurify from 'dompurify';\nimport DoneIcon from '@material-ui/icons/Done';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport Highlighter from \"react-highlight-words\";\n\nconst useStyles = makeStyles((theme) => ({\n  feedItem: {\n    padding: theme.spacing(0,9,3,9),\n  },\n  feedItemHeading: {\n    paddingBottom: theme.spacing(1),\n  },\n  itemHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  itemTitle: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  itemInfo: {\n    display: 'flex',\n  },\n  itemFeed: {\n    whiteSpace: 'nowrap',\n    textAlign: 'right',\n  },\n  itemAge: {\n    textAlign: 'right',\n    width: theme.spacing(6),\n  },\n  toolbar: {\n    paddingBottom: theme.spacing(2),\n  },\n  highlight: {\n    color: 'inherit',\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nexport default function FeedItem(props) {\n\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <>\n      {open ? (\n        <ListItem dense onClick={handleClick}>\n          <ListItemText />\n          {props.unread ?\n            <Tooltip title=\"Mark read\">\n              <IconButton size=\"small\" onClick={() => props.handleMarkRead(props.item._id)}>\n                <DoneIcon />\n              </IconButton>\n            </Tooltip>\n            :\n            <Tooltip title=\"Close\">\n              <IconButton size=\"small\">\n                <CloseIcon />\n              </IconButton>\n            </Tooltip>\n          }\n        </ListItem>\n      ) : (\n        <ListItem button dense>\n          <ListItemIcon>\n            <Tooltip title=\"Read later\">\n            {props.starred ?\n            (\n              <IconButton\n                size=\"small\"\n                onClick={() => props.handleUnstarItem(props.item._id)}\n              >\n                <TurnedInIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            ) :\n            (\n              <IconButton \n                size=\"small\"\n                onClick={() => props.handleStarItem(props.item._id)}\n              >\n                <TurnedInNotIcon fontSize=\"small\" color={props.unread ? 'inherit' : 'disabled' }/>\n              </IconButton>\n            )}\n            </Tooltip>\n          </ListItemIcon>\n          <ListItemText\n            onClick={handleClick}\n            primary={\n              <>\n              <div className={classes.itemHeader}>\n                <Typography  className={classes.itemTitle} color={props.unread ? 'textPrimary' : 'textSecondary' }>\n                  <Highlighter\n                    highlightClassName={classes.highlight}\n                    searchWords={[props.searchQuery]}\n                    autoEscape={true}\n                    textToHighlight={props.item.title}\n                  />\n                </Typography>\n                <div className={classes.itemInfo}>\n                  <div className={classes.itemFeed}>\n                    <Typography variant=\"caption\" color={props.unread ? 'textPrimary' : 'textSecondary' }>{props.item.feed.title}</Typography>\n                  </div>\n                  <div className={classes.itemAge}>\n                    <Typography variant=\"caption\" color={props.unread ? 'textPrimary' : 'textSecondary' }>{getAge(props.item.isoDate)}</Typography>\n                  </div>\n                </div>\n              </div>\n              </>\n            }\n          />\n        </ListItem>\n      )}\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <Container component=\"div\" className={classes.feedItem}>\n          <Typography variant=\"h5\" color={props.unread ? 'textPrimary' : 'textSecondary' } className={classes.feedItemHeading}>\n            {props.unread ?\n              <Link\n                href={props.item.link}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                color=\"inherit\"\n                underline=\"none\"\n                onClick={() => props.handleMarkRead(props.item._id)}\n              >\n                <Highlighter\n                  highlightClassName={classes.highlight}\n                  searchWords={[props.searchQuery]}\n                  autoEscape={true}\n                  textToHighlight={props.item.title}\n                />\n              </Link>\n              :\n              <Link\n                href={props.item.link}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                color=\"inherit\"\n                underline=\"none\"\n              >\n                <Highlighter\n                  highlightClassName={classes.highlight}\n                  searchWords={[props.searchQuery]}\n                  autoEscape={true}\n                  textToHighlight={props.item.title}\n                />\n              </Link>\n            }\n          </Typography>\n          {props.item.author || props.item.creator ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>{props.item.feed.title} by {props.item.author || props.item.creator}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{props.item.feed.title}, {new Date(props.item.isoDate).toLocaleString()} {props.unread ?  '' : <Link href='#' color='textSecondary' onClick={() => props.handleUnmarkRead(props.item._id)}>mark unread</Link> }</Typography>}\n          {props.item.categories.length > 0 ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {props.item.categories.join(', ')}</Typography>\n          ) : <></>}\n          <ButtonGroup className={classes.toolbar}>\n            <Tooltip title=\"Read later\">\n              {props.starred ?\n              (\n                <Button\n                  aria-label=\"read later\"\n                  onClick={() => props.handleUnstarItem(props.item._id)}\n                >\n                  <TurnedInIcon />\n                </Button>\n              ) :\n              (\n                <Button \n                  aria-label=\"read later\"\n                  onClick={() => props.handleStarItem(props.item._id)}\n                >\n                  <TurnedInNotIcon />\n                </Button>\n              )}\n            </Tooltip>\n            <Button><MoreHorizIcon /></Button>\n          </ButtonGroup>\n          {props.item['content:encoded'] || props.item.content ? \n          (\n            <Typography variant=\"body1\" paragraph dangerouslySetInnerHTML={{__html: DOMPurify.sanitize(props.item['content:encoded'] || props.item.content)}} />\n          ) : <></>}\n          {props.unread ?\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n              onClick={() => props.handleMarkRead(props.item._id)}\n            >\n              Visit Website\n            </Button>\n            :\n            <Button\n              href={props.item.link}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              variant=\"outlined\"\n              fullWidth\n            >\n              Visit Website\n            </Button>\n          }\n        </Container>\n      </Collapse>\n      <Divider />\n    </>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { getFeed, getFeedItems, getStarred, starItem, unstarItem, markRead, unmarkRead, markFeedRead, getUnread } from '../services/feeds';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport ReadLaterItem from './ReadLaterItem';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport Container from '@material-ui/core/Container';\nimport DoneIcon from '@material-ui/icons/Done';\nimport IconButton from '@material-ui/core/IconButton';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\nimport Badge from '@material-ui/core/Badge';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  feedDetails: {\n    paddingTop: theme.spacing(2),\n    maxWidth: '100%',\n  },\n  feedHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n  },\n  feedToolbar: {\n    display: 'flex',\n  },\n  feedList: {\n    padding: 0,\n  },\n}));\n\nexport default function ReadLater(props) {\n  \n  const classes = useStyles();\n\n  const [feed, setFeed] = useState(null);\n  const [starredItems, setStarredItems] = useState(null);\n  const [unreadItems, setUnreadItems] = useState(null);\n  const [loadedItems, setLoadedItems] = useState(null);\n  const [hasMore, setHasMore] = useState(true);\n\n  const loadMoreItems = () => {\n    getFeedItems(props.id, props.searchQuery, loadedItems.length, props.itemPerPage)\n      .then(newLoadedItems => {\n        if (newLoadedItems.length === 0) setHasMore(false);\n        else setLoadedItems(loadedItems.concat(newLoadedItems));\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleStarItem = (id) => {\n    starItem(id)\n      .then(items => {\n        if (items.message) console.log(items.message);\n        else setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnstarItem = (id) => {\n    unstarItem(id)\n      .then(items => {\n        setStarredItems(items);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkRead = (id) => {\n    markRead(id)\n      .then(response => {\n        if (response.message) console.log(response.message);\n        else {\n          getUnread(props.id)\n            .then(fetchedUnreadItems => {\n              setUnreadItems(fetchedUnreadItems);\n            })\n            .catch(err => {\n              console.log(err);\n            })\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleMarkFeedRead = () => {\n    markFeedRead(props.id)\n      .then(response => {\n        setUnreadItems(response);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleUnmarkRead = (id) => {\n    unmarkRead(id)\n      .then(() => {\n        getUnread(props.id)\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const handleRefresh = () => {\n    props.setTitle(props.title)\n    setLoadedItems(null);\n    setHasMore(true);\n    getFeed(props.id, props.searchQuery)\n      .then(fetchedFeed => {\n        setFeed(fetchedFeed);\n        getUnread(props.id)\n          .then(fetchedUnreadItems => {\n            setUnreadItems(fetchedUnreadItems);\n            getStarred()\n              .then(fetchedStarredItems => {\n                setStarredItems(fetchedStarredItems);\n                getFeedItems(props.id, props.searchQuery, 0, props.itemPerPage)\n                  .then(feedItems => {\n                    setLoadedItems(feedItems);\n                  })\n                  .catch(err => {\n                    console.log(err);\n                  })\n              })\n              .catch(err => {\n                console.log(err);\n              })\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  useEffect(() => {\n    handleRefresh();\n  }, [props.title, props.searchQuery])\n\n  if (!loadedItems) return <LinearProgress />\n  if (loadedItems.length === 0) return <></>\n\n  return (\n    <div className={classes.root}>\n      <Container component=\"div\" className={classes.feedDetails}>\n        <div className={classes.feedHeader}>\n          <Typography variant=\"h4\">\n            {props.title}\n          </Typography>\n          <div className={classes.feedToolbar}>\n            {(unreadItems.length) === 0 ?\n              <Tooltip title=\"All Read\">\n                <IconButton>\n                  <DoneAllIcon/>\n                </IconButton>\n              </Tooltip>\n              :\n              <Tooltip title=\"Mark as Read\">\n                <Badge\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'left',\n                  }}\n                  badgeContent={unreadItems.length}\n                  color=\"primary\"\n                  overlap=\"circle\"\n                  max={999}\n                >\n                  <IconButton onClick={() => handleMarkFeedRead()}>\n                    <DoneIcon/>\n                  </IconButton>\n                </Badge>\n              </Tooltip>\n            }\n            <Tooltip title=\"Refresh\">\n              <IconButton onClick={() => handleRefresh()}>\n                <RefreshIcon/>\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"More options\">\n              <IconButton>\n                <MoreHorizIcon/>\n              </IconButton>\n            </Tooltip>\n          </div>\n        </div>\n          {feed.description ? \n          (\n            <Typography variant=\"subtitle1\">{feed.description}</Typography>\n          ) : <></>}\n          {feed.category ? \n          (\n            <Typography variant=\"subtitle2\" paragraph>Category: {feed.category.join(', ')}, {feed.feedItems} articles</Typography>\n          ) : <Typography variant=\"subtitle2\" paragraph>{feed.feedItems} articles</Typography>}\n      </Container>\n      <Divider />\n      <List className={classes.feedList}>\n        <InfiniteScroll\n          dataLength={loadedItems.length}\n          next={loadMoreItems}\n          hasMore={hasMore}\n          loader={<LinearProgress />}\n          scrollableTarget=\"content\"\n        >\n          {loadedItems.map(item => {\n            return (\n              <ReadLaterItem\n                key={item._id}\n                feedTitle={item.feed.title}\n                item={item}\n                handleStarItem={handleStarItem}\n                handleUnstarItem={handleUnstarItem}\n                starred={starredItems.includes(item._id)}\n                handleMarkRead={handleMarkRead}\n                handleUnmarkRead={handleUnmarkRead}\n                unread={unreadItems.includes(item._id)}\n                {...props}\n              />\n            )\n          })}\n        </InfiniteScroll>\n      </List>\n    </div>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Zoom from '@material-ui/core/Zoom';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(4),\n  },\n}));\n\nexport default function ScrollTop(props) {\n  \n  const classes = useStyles();\n\n  const trigger = useScrollTrigger({\n    target: props.contentRef.current,\n    disableHysteresis: true,\n    threshold: 100,\n  });\n\n  const handleClick = (event) => {\n    const anchor = (event.target.ownerDocument || document).querySelector('#back-to-top-anchor');\n    if (anchor) {\n      anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    }\n  };\n\n  return (\n    <Zoom in={trigger}>\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\n        {props.children}\n      </div>\n    </Zoom>\n  );\n}","import React from 'react';\nimport { signout } from '../services/auth';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Avatar from '@material-ui/core/Avatar';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nexport default function OptionsMenu(props) {\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleSignout = () => {\n    signout()\n      .then(() => {\n        props.setUser(null);\n        props.history.push('/signin');\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  };\n\n  return (\n    <>\n      <Tooltip title=\"Account\">\n        <IconButton\n          edge=\"end\"\n          onClick={handleMenuOpen}\n          color=\"inherit\"\n        >\n          <Avatar src={\" \"} alt={props.user.username} />\n        </IconButton>\n      </Tooltip>\n\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n        id='account-menu'\n        keepMounted\n        transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={Boolean(anchorEl)}\n        onClose={handleMenuClose}\n      >\n        <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\n        <MenuItem onClick={handleSignout}>Sign Out</MenuItem>\n      </Menu>\n    </>\n  );\n}","import axios from 'axios';\n\nconst signup = (username, password) => {\n  return axios.post('/api/auth/signup', { username, password })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst signin = (username, password) => {\n  return axios.post('/api/auth/login', { username, password })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nconst signout = () => {\n  return axios.delete('/api/auth/logout')\n    .then(response => {\n      return response.data\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\nexport { signup, signin, signout };","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { getUserFeeds } from '../services/feeds';\nimport clsx from 'clsx';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Welcome from './Welcome';\nimport Feed from './Feed';\nimport FeedList from './FeedList';\nimport ReadLater from './ReadLater';\nimport ScrollTop from './ScrollTop';\nimport AccountMenu from './AccountMenu';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useThemeSwitcher } from \"mui-theme-switcher\";\nimport WbSunnyIcon from '@material-ui/icons/WbSunny';\nimport Brightness3Icon from '@material-ui/icons/Brightness3';\nimport Fab from '@material-ui/core/Fab';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\n\nconst drawerWidth = 300;\nconst itemPerPage = 40;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    height: '100vh',\n    overflow: 'auto',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    '&::-webkit-scrollbar': {\n      width: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: theme.palette.primary.main,\n      borderRadius: '2px',\n    }\n  },\n  drawerPaperClose: {\n    height: '100vh',\n    overflow: 'auto',\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n    '&::-webkit-scrollbar': {\n      width: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: theme.palette.primary.main,\n      borderRadius: '2px',\n    }\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n    '&::-webkit-scrollbar': {\n      width: '4px',\n    },\n    '&::-webkit-scrollbar-thumb': {\n      backgroundColor: theme.palette.primary.main,\n      borderRadius: '2px',\n    }\n  },\n  container: {\n    padding: 0,\n    maxWidth: '100%',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    marginRight: theme.spacing(1),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '12ch',\n      '&:focus': {\n        width: '20ch',\n      },\n    },\n  },\n}));\n\nexport default function Reader(props) {\n  const classes = useStyles();\n  const { dark, toggleDark } = useThemeSwitcher();\n  const [open, setOpen] = useState(false);\n  const [title, setTitle] = useState('Paperboy');\n  const [userFeeds, setUserFeeds] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const contentRef = React.useRef();\n\n  const handleDrawerOpen = () => {\n    if (open) setOpen(false);\n    if (!open) setOpen(true);\n  };\n\n  const search = e => {\n    setSearchQuery(e.target.value);\n  }\n\n  const updateUserFeeds = () => {\n    getUserFeeds()\n      .then(fetchedFeeds => {\n        setUserFeeds(fetchedFeeds);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  useEffect(() => {\n    updateUserFeeds()\n  }, [])\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            onClick={handleDrawerOpen}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\n            {title}\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Search…\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              value={searchQuery}\n              onChange={search}\n            />\n          </div>\n          <Tooltip title=\"Toggle dark mode\">\n            <IconButton onClick={toggleDark} color=\"inherit\">\n              {dark ? <WbSunnyIcon /> : <Brightness3Icon />}\n            </IconButton>\n          </Tooltip>\n          <AccountMenu {...props} />\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n      >\n        <Toolbar />\n        <FeedList userFeeds={userFeeds} setUserFeeds={setUserFeeds} updateUserFeeds={updateUserFeeds} />\n        <Divider />\n      </Drawer>\n      <main id=\"content\" className={classes.content}  ref={contentRef}>\n        <Toolbar id=\"back-to-top-anchor\"/>\n        <Container className={classes.container}>\n\n          <Switch>\n            <Route\n              exact path={'/all'}\n              render={props => {\n                return <ReadLater setTitle={setTitle} id={'all'} title={'All feeds'} searchQuery={searchQuery} itemPerPage={itemPerPage} {...props} />\n              }}\n            />\n            <Route\n              exact path={'/read-later'}\n              render={props => {\n                return <ReadLater setTitle={setTitle} id={'starred'} title={'Read later'} searchQuery={searchQuery} itemPerPage={itemPerPage} {...props} />\n              }}\n            />\n            <Route\n              exact path={'/:id'}\n              render={props => {\n                return <Feed setTitle={setTitle} setUserFeeds={setUserFeeds} searchQuery={searchQuery} itemPerPage={itemPerPage} {...props} />\n              }}\n            />\n            <Route\n              exact path={'/'}\n              render={props => {\n                return <Welcome setTitle={setTitle} userFeeds={userFeeds} user={props.user} {...props} />\n              }}\n            />\n          </Switch>\n\n          <ScrollTop contentRef={contentRef} {...props}>\n            <Fab color=\"primary\" size=\"small\">\n              <KeyboardArrowUpIcon />\n            </Fab>\n          </ScrollTop>\n\n        </Container>\n      </main>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { signin } from '../services/auth';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    backgroundImage: 'url(https://images.unsplash.com/photo-1541613569553-332a2574a508)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-end',\n  },\n  card: {\n    margin: theme.spacing(16,4),\n  },\n  welcome: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-end',\n  },\n  heading: {\n    marginBottom: theme.spacing(1),\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignIn(props) {\n\n  const classes = useStyles();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [usernameError, setUsernameError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    signin(username, password)\n      .then(response => {\n        if (response.usernameError) {\n          setUsernameError(response.usernameError);\n          setPasswordError('');\n        } else if (response.passwordError) {\n          setUsernameError('');\n          setPasswordError(response.passwordError);\n        } else {\n          props.setUser(response);\n          props.history.push('/');\n        }\n      })\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image}>\n          <Card className={classes.card}>\n            <CardContent>\n              <div className={classes.welcome}>\n                <Typography component=\"h1\" variant=\"h5\">\n                  Welcome to\n                </Typography>\n                <Typography component=\"h1\" variant=\"h2\" className={classes.heading}>\n                  Paperboy\n                </Typography>\n                <Typography component=\"h1\" variant=\"h4\" className={classes.heading}>\n                  News feed reader and aggreagtor\n                </Typography>            \n              </div>\n            </CardContent>\n          </Card>\n      </Grid>\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} onSubmit={handleSubmit} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              value={username}\n              onChange={e => setUsername(e.target.value)}\n              error={!!usernameError}\n              helperText={usernameError}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={password}\n              onChange={e => setPassword(e.target.value)}\n              error={!!passwordError}\n              helperText={passwordError}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item>\n                <Link component={RouterLink} to=\"/signup\" variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}","import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { signup } from '../services/auth';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignUp(props) {\n\n  const classes = useStyles();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [usernameError, setUsernameError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [confirmError, setConfirmError] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (password === confirm) {\n      signup(username, password)\n        .then(response => {\n          if (response.usernameError) {\n            setUsernameError(response.usernameError);\n            setPasswordError('');\n          } else if (response.passwordError) {\n            setUsernameError('');\n            setPasswordError(response.passwordError);\n          } else {\n            props.setUser(response);\n            props.history.push('/');\n          }\n        })\n    } else {\n      setConfirmError('Passwords do not match')\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"username\"\n                label=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={e => setUsername(e.target.value)}\n                error={!!usernameError}\n                helperText={usernameError}\n                autoFocus\n                // autoComplete=\"username\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n            <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                error={!!passwordError}\n                helperText={passwordError}\n                // autoComplete=\"new-password\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"confirm\"\n                label=\"Confirm\"\n                type=\"password\"\n                id=\"confirm\"\n                value={confirm}\n                onChange={e => setConfirm(e.target.value)}\n                error={!!confirmError}\n                helperText={confirmError}\n                // autoComplete=\"new-password\"\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign Up\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link component={RouterLink} to=\"/signin\" variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n}","import React from 'react';\nimport '@fontsource/roboto';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { Route, Redirect } from 'react-router-dom';\nimport Reader from './components/Reader';\nimport SignIn from './components/SignIn';\nimport SignUp from './components/SignUp';\n\nfunction App(props) {\n\n  const [user, setUser] = React.useState(props.user);\n\n  return (\n    <>\n      <CssBaseline/>\n      <Route\n        path='/'\n        render={props => {\n          if (user) {\n            return <Reader setUser={setUser} user={user} {...props} />\n          } else return <Redirect to='/signin' />\n        }}\n      />\n      <Route\n        exact path=\"/signin\"\n        render={props => <SignIn setUser={setUser} {...props} />}\n      />\n      <Route\n        exact path=\"/signup\"\n        render={props => <SignUp setUser={setUser} {...props} />}\n      />\n    </>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport axios from 'axios';\nimport { createMuiTheme } from \"@material-ui/core\";\nimport { ThemeSwitcherProvider } from \"mui-theme-switcher\";\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nconst lightTheme = createMuiTheme({\n  palette: {\n    type: \"light\",\n    primary: {\n      main: '#2e7d59',\n    },\n  }\n});\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n    primary: {\n      main: '#2e7d59',\n    },\n  }\n});\n\naxios.get('/api/auth/loggedin')\n  .then(response => {\n    const user = response.data;\n    ReactDOM.render(\n      <ThemeSwitcherProvider\n        lightTheme={lightTheme}\n        darkTheme={darkTheme}\n        followSystem=\"true\"\n        persist=\"true\"\n        appId=\"paperboy\"\n      >     \n        <BrowserRouter>\n          <App id=\"paperboy\" user={user} />\n        </BrowserRouter>\n      </ThemeSwitcherProvider>,\n      document.getElementById('root')\n    );\n  })\n  .catch(err => {\n    console.log(err)\n  })\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}